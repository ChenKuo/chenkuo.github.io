(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)s=o[d],a[s]&&h.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0037":function(t,e,r){},"034f":function(t,e,r){"use strict";var n=r("64a9"),a=r.n(n);a.a},"058f":function(t,e,r){"use strict";var n=r("d91d"),a=r.n(n);a.a},1:function(t,e){},1763:function(t,e,r){"use strict";var n=r("35c5"),a=r.n(n);a.a},"1a26":function(t,e,r){"use strict";var n=r("d5ad"),a=r.n(n);a.a},"1b25":function(t,e,r){"use strict";var n=r("0037"),a=r.n(n);a.a},"1ca4":function(t,e,r){},2:function(t,e){},2105:function(t,e,r){},2286:function(t,e,r){},"235c":function(t,e,r){},"260f":function(t,e,r){"use strict";var n=r("cf6a"),a=r.n(n);a.a},"2a67":function(t,e,r){"use strict";var n=r("455d"),a=r.n(n);a.a},"2da2":function(t,e,r){"use strict";var n=r("2105"),a=r.n(n);a.a},"2fba":function(t,e,r){"use strict";var n=r("7ae8"),a=r.n(n);a.a},"34d2":function(t,e,r){"use strict";var n=r("9c1f"),a=r.n(n);a.a},"35c5":function(t,e,r){},"3cb2":function(t,e,r){"use strict";var n=r("235c"),a=r.n(n);a.a},"3f0b":function(t,e,r){},"42d7":function(t,e,r){},"455d":function(t,e,r){},"488b":function(t,e,r){},"489f":function(t,e,r){},"49df":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"draggable",staticClass:"draggable_area",attrs:{partId:t.partId}},t._l(t.children,function(e){return r("PartTab",{key:e,attrs:{partId:e},nativeOn:{click:function(r){return r.stopPropagation(),t.select(e)}}})}),1)},a=[],i=r("53fe"),s=r.n(i),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isGroup?r("GroupTab",{attrs:{partId:t.partId}}):r("LayerTab",{attrs:{partId:t.partId}})},c=[],l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"layer_tab",class:{selected:t.selected}},[r("img",{staticClass:"image",style:t.imageStyle,attrs:{src:t.imageSrc}}),t.editingName?r("NameInput",{staticClass:"name",attrs:{value:t.name,id:t.partId},on:{finished:function(e){t.editingName=!1}}}):r("div",{staticClass:"name",on:{dblclick:function(e){t.editingName=!0}}},[t._v("\n        "+t._s(t.name)+"\n    ")])],1)},u=[],d=(r("7f7f"),r("c5f6"),r("d0ed")),h={components:{NameInput:d["a"]},props:{partId:{type:Number,required:!0}},data:function(){return{editingName:!1}},computed:{part:function(){return this.$store.state.symbolart.parts[this.partId]},name:function(){return this.part.name},selected:function(){return this.$store.state.symbolart.selected[this.partId]},imageStyle:function(){var t=this.part;return{backgroundColor:"rgb("+t.r+","+t.g+","+t.b+","+t.a/255+")"}},imageSrc:function(){var t=this.part.type>=512?this.part.type-512+325:this.part.type;return this.$store.state.symbolart.shapeList[t].url}}},v=h,f=(r("c456"),r("058f"),r("2877")),p=Object(f["a"])(v,l,u,!1,null,"bc08ca24",null),m=p.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"group_tab",class:{selected:t.selected}},[r("div",{staticClass:"group_handle"},[r("CollapseImg",{staticClass:"collapse_img"}),t.editingName?r("NameInput",{staticClass:"name",attrs:{value:t.name,id:t.partId},on:{finished:function(e){t.editingName=!1}}}):r("div",{staticClass:"name",on:{dblclick:function(e){t.editingName=!0}}},[t._v("\n            "+t._s(t.name)+"\n        ")]),r("input",{attrs:{type:"checkbox"}})],1),r("ChildPartsList",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"group_content",attrs:{partId:t.partId}})],1)},b=[],y={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},u),...d},i.concat([r("path",{attrs:{d:"M10 5.25v39.496L43.57 25z"}})]))}},x={name:"GroupTab",data:function(){return{expanded:!0,editingName:!1}},components:{ChildPartsList:function(){return Promise.resolve().then(r.bind(null,"49df"))},CollapseImg:y,NameInput:d["a"]},props:{partId:{required:!0}},computed:{group:function(){return this.$store.state.symbolart.parts[this.partId]},name:function(){return this.group.name},selected:function(){return this.$store.state.symbolart.selected[this.partId]}}},_=x,C=(r("2a67"),r("b974"),Object(f["a"])(_,g,b,!1,null,"61c09276",null)),E=C.exports,w={name:"PartTab",components:{GroupTab:E,LayerTab:m},props:{partId:{required:!0}},computed:{isGroup:function(){return!!this.$store.state.symbolart.parts[this.partId].children},selected:function(){return this.$store.state.symbolart.selected[this.partId]}},watch:{selected:function(t){t&&this.$el.scrollIntoView({block:"nearest"})}}},R=w,I=Object(f["a"])(R,o,c,!1,null,null,null),A=I.exports,S={name:"ChildPartsList",mounted:function(){s.a.create(this.$refs.draggable,{onUpdate:this.moveParts,onAdd:this.moveParts,group:"nested",invertSwap:!0,swapThreshold:1,direction:"vertical",fallbackOnBody:!0,emptyInsertThreshold:5})},props:{partId:{required:!0}},components:{PartTab:A},computed:{children:function(){return this.$store.state.symbolart.parts[this.partId].children}},methods:{moveParts:function(t){var e=t.from.getAttribute("partId"),r=t.to.getAttribute("partId"),n=t.oldIndex,a=t.newIndex;return this.$store.commit("movePart",{parentOld:e,indexOld:n,parentNew:r,indexNew:a}),!1},select:function(t){this.$store.commit("select",t)}}},T=S,L=(r("ede0"),Object(f["a"])(T,n,a,!1,null,null,null));e["default"]=L.exports},"4a50":function(t,e,r){"use strict";var n=r("93c1"),a=r.n(n);a.a},5076:function(t,e,r){},"565b":function(t,e,r){"use strict";var n=r("1ca4"),a=r.n(n);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("ViewerEditor",{attrs:{id:"middle"}}),r("HeaderBar",{attrs:{id:"header"}}),r("ToolBar",{attrs:{id:"top"}}),r("PartsList",{attrs:{id:"left"}}),r("ColorShapeEditor",{attrs:{id:"right"}}),r("FooterBar",{attrs:{id:"footer"}})],1)},i=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("div",[r("Menu"),r("SaveMessage")],1),r("SymbolArtTitle"),r("Logo")],1)},o=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("DropdownMenu",{attrs:{menu:t.menulist,id:"menu"},on:{optionclick:t.onOption}})},l=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"menu",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},t._l(t.menu,function(e){return r("div",{key:e.value},[r("button",{staticClass:"dropdown_btn",class:{active:t.open===e.value},on:{click:function(r){t.open=e.value}}},[t._v("\n            "+t._s(e.value)+"\n        ")]),e.options?r("DropdownContent",{attrs:{submenu:e,open:t.open===e.value},on:{optionclick:t.propagateOptionClick}}):t._e()],1)}),0)},d=[],h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],staticClass:"dropdown_content"},t._l(t.submenu.options,function(e){return r("div",{key:e.value||e,staticClass:"dropdown_item",class:{active:t.optionOpen===e.value},on:{click:function(r){return r.stopPropagation(),t.onOptionClicked(e)}}},[r("a",[t._v(" "+t._s(e.value||e)+" ")]),e.options?r("a",[t._v("âµ")]):t._e(),e.options?r("DropdownContent",{staticClass:"sub_options",attrs:{open:t.optionOpen===e.value,submenu:e},on:{optionclick:t.propagateOptionClick}}):t._e()],1)}),0)},v=[],f={name:"DropdownContent",props:{submenu:Object,open:Boolean},data:function(){return{optionOpen:null}},watch:{open:function(t){t||(this.optionOpen=null)}},methods:{onOptionClicked:function(t){t.options?this.optionOpen=t.value===this.optionOpen?null:t.value:(this.propagateOptionClick(t.value||t),this.optionOpen=null)},propagateOptionClick:function(t){this.$emit("optionclick",this.submenu.value+"/"+t)}}},p=f,m=(r("e24f"),r("d16b"),r("2877")),g=Object(m["a"])(p,h,v,!1,null,"7245c47a",null),b=g.exports,y={mounted:function(){document.body.addEventListener("click",this.close)},components:{DropdownContent:b},props:{menu:Array},data:function(){return{open:null}},methods:{close:function(){this.open=null},propagateOptionClick:function(t){this.$emit("optionclick",t),this.open=null}}},x=y,_=(r("2fba"),r("8ecb"),Object(m["a"])(x,u,d,!1,null,"0ddadcbb",null)),C=_.exports,E={name:"Menu",components:{DropdownMenu:C},data:function(){return{menulist:[{value:"File",options:[{value:"Import from",options:[".saml file"]},"more will be added"]},{value:"Edit",options:["not implemented"]},{value:"View",options:["not implemented"]},{value:"Generator",options:["not implemented"]},{value:"Help",options:["sorry cant halp u"]}]}},methods:{onOption:function(t){var e=this;switch(t){case"File/Import from/.saml file":var r=document.createElement("INPUT");r.setAttribute("type","file"),r.click(),r.onchange=function(){return e.$store.dispatch("loadSamlFile",r.files[0])};break}}}},w=E,R=(r("ea39"),Object(m["a"])(w,c,l,!1,null,null,null)),I=R.exports,A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"save_message",on:{click:t.onClickSave}},[t._v("\n    "+t._s(t.message)+"\n")])},S=[],T={name:"SaveMessage",data:function(){return{message:"save changes"}},methods:{onClickSave:function(){this.message="can't save yet"}}},L=T,U=(r("3cb2"),Object(m["a"])(L,A,S,!1,null,null,null)),B=U.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"sa-title"}},[t.editingName?r("NameInput",{staticClass:"name",attrs:{value:t.name,id:t.id},on:{finished:function(e){t.editingName=!1}}}):r("div",{staticClass:"name",on:{click:function(e){t.editingName=!0}}},[t._v("\n        "+t._s(t.name)+"\n    ")])],1)},P=[],F=(r("7f7f"),r("d0ed")),k={name:"SymbolArtTitle",components:{NameInput:F["a"]},data:function(){return{editingName:!1,id:0}},computed:{name:function(){return this.$store.state.symbolart.parts[this.id].name}}},D=k,M=(r("8bdb"),r("260f"),Object(m["a"])(D,O,P,!1,null,"3695ddec",null)),$=M.exports,N=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"logo"},[r("div",[t._v("Symbol Art Maker")])])}],z={name:"Logo"},H=z,j=(r("6569"),Object(m["a"])(H,N,V,!1,null,null,null)),X=j.exports,G={name:"HeaderBar",components:{Menu:I,SaveMessage:B,SymbolArtTitle:$,Logo:X}},Y=G,q=(r("1b25"),Object(m["a"])(Y,s,o,!1,null,null,null)),W=q.exports,Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toolbar"},[r("div",{staticClass:"edit_buttons"},[r("button",{staticClass:"toolbar-btn",on:{click:t.addLayer}},[r("AddImg")],1),r("button",{staticClass:"toolbar-btn",on:{click:t.addGroup}},[r("GroupImg")],1),r("button",{staticClass:"toolbar-btn",attrs:{disabled:t.undoEmpty},on:{click:t.undo}},[r("UndoImg")],1),r("button",{staticClass:"toolbar-btn",attrs:{disabled:t.redoEmpty},on:{click:t.redo}},[r("RedoImg")],1),r("button",{staticClass:"toolbar-btn",attrs:{disabled:!t.selected.length},on:{click:t.deletePart}},[r("DeleteImg")],1)]),r("div",{staticClass:"view_buttons"},[r("button",{staticClass:"toolbar-btn",on:{click:t.loadReferenceImage}},[r("PictureImg")],1),r("button",{staticClass:"toolbar-btn",attrs:{disabled:""}},[r("OpacityImg")],1),r("button",{staticClass:"toolbar-btn",attrs:{disabled:""}},[r("CubeImg")],1),r("button",{staticClass:"toolbar-btn",attrs:{disabled:""}},[r("SquareImg")],1),r("button",{staticClass:"toolbar-btn",attrs:{disabled:""}},[r("ZoomoutImg")],1),r("button",{staticClass:"toolbar-btn",attrs:{disabled:""}},[r("ZoominImg")],1)]),r("div",{staticClass:"gen_buttons"},[r("button",{staticClass:"toolbar-btn",attrs:{disabled:""}},[r("BotImg")],1),r("button",{staticClass:"toolbar-btn",attrs:{disabled:""}},[r("SettingImg")],1)])])},J=[],K={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",version:"1.0"},u),...d},i.concat([r("path",{attrs:{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm4 11h-3v3a1 1 0 0 1-2 0v-3H8a1 1 0 0 1 0-2h3V8a1 1 0 0 1 2 0v3h3a1 1 0 0 1 0 2z"}})]))}},Q={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},i.concat([r("path",{attrs:{d:"M12 2.91L2 7.24v1.516l10 4.334 10-4.334V7.24L12 2.91zm10 7.979l-2 .865v.002l-8 3.467-10-4.327v2.172L12 17.4l10-4.332v-2.18zm0 4.394l-2 .867-8 3.467-10-4.326v2.174l10 4.332 10-4.332v-2.182z"}})]))}},tt={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},i.concat([r("path",{attrs:{d:"M2.5 8a.499.499 0 0 0-.5.5V15a1 1 0 0 0 1 1h6.5a.502.502 0 0 0 .354-.854L7.22 12.514A7.925 7.925 0 0 1 12.5 10.5a7.991 7.991 0 0 1 7.172 4.469c.276.56.917.834 1.51.636.709-.236 1.069-1.045.74-1.716C20.216 10.404 16.643 8 12.5 8c-2.72 0-5.182 1.05-7.043 2.75L2.854 8.146A.499.499 0 0 0 2.5 8z"}})]))}},et={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},i.concat([r("path",{attrs:{d:"M11.5 8c-4.243 0-7.889 2.52-9.543 6.145a1.007 1.007 0 0 0 .594 1.373.986.986 0 0 0 1.21-.526A8.494 8.494 0 0 1 11.5 10a8.45 8.45 0 0 1 5.66 2.178l-2.969 2.968a.5.5 0 0 0 .354.854h6.5a1 1 0 0 0 1-1V8.5a.5.5 0 0 0-.854-.354l-2.623 2.624A10.406 10.406 0 0 0 11.5 8z"}})]))}},rt={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 26"},u),...d},i.concat([r("path",{attrs:{d:"M11-.031c-.836 0-1.656.164-2.25.75-.594.586-.781 1.418-.781 2.281H4c-.55 0-1 .45-1 1H2v2h22V4h-1c0-.55-.45-1-1-1h-3.969c0-.863-.187-1.695-.781-2.281-.594-.586-1.414-.75-2.25-.75zm0 2.062h4c.547 0 .719.13.781.188.063.058.188.222.188.781H10.03c0-.559.125-.723.188-.781.062-.059.234-.188.781-.188zM4 7v16c0 1.652 1.348 3 3 3h12c1.652 0 3-1.348 3-3V7zm4 3h2v12H8zm4 0h2v12h-2zm4 0h2v12h-2z"}})]))}},nt={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",version:"1.0"},u),...d},i.concat([r("path",{attrs:{d:"M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zM5.628 16.193l2.49-3.202a.5.5 0 0 1 .779-.012L11 15.51l3.098-3.992a.5.5 0 0 1 .795.007L18.4 16.2a.5.5 0 0 1-.4.8H6.022a.5.5 0 0 1-.394-.807z"}})]))}},at={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},i.concat([r("path",{attrs:{d:"M4 3a1 1 0 0 0-1 1v2h3V3H4zm2 3v4h4V6H6zm4 0h4V3h-4v3zm4 0v4h4V6h-4zm4 0h3V4a1 1 0 0 0-1-1h-2v3zm0 4v4h3v-4h-3zm0 4h-4v4h4v-4zm0 4v3h2a1 1 0 0 0 1-1v-2h-3zm-4 0h-4v3h4v-3zm-4 0v-4H6v4h4zm-4 0H3v2a1 1 0 0 0 1 1h2v-3zm0-4v-4H3v4h3zm4 0h4v-4h-4v4z"}})]))}},it={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},u),...d},i.concat([r("path",{attrs:{d:"M24.988 3a.994.994 0 0 0-.367.074l-20 8.168c-.004.004-.012.004-.016.008a.063.063 0 0 0-.027.016c-.02.007-.039.015-.058.027-.012.004-.024.012-.036.02-.02.011-.035.023-.054.03-.004.009-.012.012-.016.016-.023.016-.043.032-.062.047-.004.004-.012.008-.016.016-.02.015-.043.039-.063.058a.975.975 0 0 1-.062.067c-.004.012-.012.02-.016.027a.337.337 0 0 0-.039.063c-.004 0-.004.004-.008.004l-.046.082v.011c-.016.024-.024.051-.036.079 0 .003-.003.007-.003.011-.012.028-.02.059-.032.086v.012c-.008.027-.011.055-.015.078-.004.012-.004.02-.008.027 0 .028-.004.055-.008.082v24.723a1 1 0 0 0 .621.926l20 8.168c.121.05.25.074.379.074a.964.964 0 0 0 .379-.074l20-8.164a1.01 1.01 0 0 0 .621-.93V12.168a.908.908 0 0 0-.027-.23c-.004-.012-.004-.02-.008-.028a1.181 1.181 0 0 0-.074-.195c-.008-.008-.012-.02-.016-.027a1.081 1.081 0 0 0-.121-.176c-.004-.008-.008-.012-.008-.012l-.012-.012a1.072 1.072 0 0 0-.355-.246l-.04-.015-19.96-8.153a1.036 1.036 0 0 0-.39-.074zM25 5.078l17.352 7.09L25 19.25 7.648 12.168zM6 13.656l18 7.348v22.508L6 36.16z"}})]))}},st={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},i.concat([r("path",{attrs:{d:"M21 3H3v18h18V3z"}})]))}},ot={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},i.concat([r("path",{attrs:{d:"M9 2C5.146 2 2 5.146 2 9s3.146 7 7 7a6.959 6.959 0 0 0 4.574-1.719l.426.426V16l6 6 2-2-6-6h-1.293l-.426-.426A6.959 6.959 0 0 0 16 9c0-3.854-3.146-7-7-7zm0 2c2.773 0 5 2.227 5 5s-2.227 5-5 5-5-2.227-5-5 2.227-5 5-5zM6 8v2h6V8H6z"}})]))}},ct={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},i.concat([r("path",{attrs:{d:"M9 2C5.146 2 2 5.146 2 9s3.146 7 7 7a6.959 6.959 0 0 0 4.574-1.719l.426.426V16l6 6 2-2-6-6h-1.293l-.426-.426A6.959 6.959 0 0 0 16 9c0-3.854-3.146-7-7-7zm0 2c2.773 0 5 2.227 5 5s-2.227 5-5 5-5-2.227-5-5 2.227-5 5-5zM8 6v2H6v2h2v2h2v-2h2V8h-2V6H8z"}})]))}},lt={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},u),...d},i.concat([r("path",{attrs:{d:"M43 26v-3.969C43 17.601 39.395 14 34.969 14H26v-3.14c1.723-.45 3-2 3-3.86 0-2.207-1.793-4-4-4s-4 1.793-4 4c0 1.86 1.281 3.41 3 3.86V14h-8.969C10.605 14 7 17.602 7 22.031V26H2v12h5v9h36v-9h5V26zM27 38v7h-4v-7zM15 26.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0zM17 38h4v7h-4zm16 7h-4v-7h4zm-1.5-15a3.5 3.5 0 1 1 0-7 3.5 3.5 0 1 1 0 7z"}})]))}},ut={functional:!0,render(t,e){const{_c:r,_v:n,data:a,children:i=[]}=e,{class:s,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return r("svg",{class:[s,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",version:"1.0"},u),...d},i.concat([r("path",{attrs:{d:"M47.16 21.221l-5.91-.966a16.933 16.933 0 0 0-1.411-3.405l3.45-4.917a1.001 1.001 0 0 0-.112-1.282l-3.889-3.887a1 1 0 0 0-1.291-.104l-4.843 3.481a16.774 16.774 0 0 0-3.432-1.427l-1.031-5.886A1 1 0 0 0 27.706 2h-5.5a1 1 0 0 0-.987.839l-.956 5.854c-1.2.345-2.352.818-3.437 1.412l-4.83-3.45a1 1 0 0 0-1.289.106L6.82 10.648a.998.998 0 0 0-.112 1.28l3.399 4.863a16.937 16.937 0 0 0-1.438 3.46l-5.831.971a1 1 0 0 0-.836.986v5.5a1 1 0 0 0 .825.985l5.831 1.034a16.853 16.853 0 0 0 1.438 3.46L6.655 38c-.284.397-.239.942.106 1.289l3.888 3.891a1 1 0 0 0 1.281.112l4.87-3.411a16.871 16.871 0 0 0 3.445 1.424l.976 5.861a.997.997 0 0 0 .985.834h5.5c.485 0 .9-.348.984-.825l1.045-5.89a16.816 16.816 0 0 0 3.43-1.435l4.905 3.441a.999.999 0 0 0 1.282-.111l3.888-3.891a1 1 0 0 0 .104-1.292l-3.498-4.857a16.74 16.74 0 0 0 1.407-3.408l5.918-1.039a1 1 0 0 0 .827-.985v-5.5a.998.998 0 0 0-.838-.987zM25 32a7 7 0 1 1 0-14 7 7 0 0 1 0 14z"}})]))}},dt=function(t){var e=document.createElement("INPUT");e.setAttribute("type","file"),e.click(),e.onchange=function(){return t(e.files[0])}},ht={name:"ToolBar",components:{AddImg:K,GroupImg:Q,UndoImg:tt,RedoImg:et,DeleteImg:rt,PictureImg:nt,OpacityImg:at,CubeImg:it,SquareImg:st,ZoomoutImg:ot,ZoominImg:ct,BotImg:lt,SettingImg:ut},computed:{selected:function(){return this.$store.getters.selected},undoEmpty:function(){return!this.$store.state.symbolart.undoStack.length},redoEmpty:function(){return!this.$store.state.symbolart.redoStack.length}},methods:{addLayer:function(){var t=this.selected[0],e=this.$store.getters.partInfo(t),r=e&&e.parentId||0,n=e&&e.index||0;this.$store.commit("addLayer",{parent:r,index:n})},addGroup:function(){var t=this.selected[0],e=this.$store.getters.partInfo(t),r=e&&e.parentId||0,n=e&&e.index||0;this.$store.commit("addGroup",{parent:r,index:n})},deletePart:function(){if(1===this.selected.length){var t=this.selected[0],e=this.$store.getters.partInfo(t),r=e&&e.parentId||0,n=e&&e.index||0;this.$store.commit("deletePart",{parent:r,index:n})}},undo:function(){this.$store.commit("undo")},redo:function(){this.$store.commit("redo")},loadReferenceImage:function(){var t=this;dt(function(e){return t.$store.dispatch("loadReferenceImage",e)})}}},vt=ht,ft=(r("4a50"),Object(m["a"])(vt,Z,J,!1,null,"0c0b1042",null)),pt=ft.exports,mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ChildPartsList",{staticClass:"sa_tree",attrs:{partId:0}})},gt=[],bt=r("49df"),yt={name:"PartsList",components:{ChildPartsList:bt["default"]}},xt=yt,_t=(r("34d2"),Object(m["a"])(xt,mt,gt,!1,null,null,null)),Ct=_t.exports,Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"viewer_editor"},[r("div",{staticClass:"limit_area",attrs:{id:"viewer-content"}},[r("div",{staticClass:"canvas_area"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewbox:"0 0 768 384",width:"100%",height:"100%"}},[r("rect",{attrs:{fill:"white",x:"0",y:"0",width:"100%",height:"100%"}}),r("pattern",{attrs:{id:"pattern24",x:"0",y:"0",width:"24",height:"24",patternUnits:"userSpaceOnUse"}},[r("rect",{attrs:{fill:"#cccccc",x:"0",width:"12",height:"12",y:"0"}}),r("rect",{attrs:{fill:"#cccccc",x:"12",width:"12",height:"12",y:"12"}})]),r("rect",{attrs:{fill:"url(#pattern24)",y:"0",x:"0",width:"100%",height:"100%"}})]),r("img",{staticClass:"reference_image",attrs:{src:t.backgroundImage}}),r("ViewCanvas",{staticClass:"canvas"})],1),r("VertexEditor",{staticClass:"vert_editor"})],1)])},wt=[],Rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("canvas")},It=[],At=(r("6c7b"),r("ac6a"),r("456d"),r("af56"),r("34ef"),r("b05c"),r("d225")),St=r("b0b4"),Tt="#version 300 es\r\n\r\n// Input vertex data, different for all executions of this shader.\r\nlayout(location = 0) in uint type;\r\nlayout(location = 1) in vec4 color;\r\nlayout(location = 2) in ivec2 position;\r\nlayout(location = 3) in uint corner;\r\n\r\n// Output data ; will be interpolated for each fragment.\r\nout vec2 vUV;\r\nout vec4 vColor;\r\nout float vIsFullColor;\r\nout vec4 vAlphaChannel;\r\n\r\nconst float bitSizeX = 1.0 / 96.0;\r\nconst float bitSizeY = 1.0 / 48.0;\r\nconst float bitSizeZ = 1.0 / 256.0;\r\nconst vec2 bitSize = vec2(bitSizeX, bitSizeY);\r\nconst vec2 uvUnit = vec2(0.0625, 0.125);\r\nconst float colorUnit = 1.0 / 255.0;\r\n\r\nvoid main(){\r\n\tgl_Position = vec4(vec2(position) * bitSize, 0.0, 1.0);\r\n\tvec2 uv_offset = vec2((corner>>1), corner&1u^1u);\r\n\t//u=t/4%16\r\n\t//v=t/4/16\r\n\t//c=t%4\r\n\tuint fullColor = (type >>9 )&1u; //1 means fullcolor, otw 0\r\n\tvec2 uv0_noColor = vec2((type >> 2) & 15u, (type >> 6));\r\n\tvec2 uv0_color = vec2((type + 2u) & 15u, 5u+(((type & 63u) + 2u) >> 4));\r\n\tvec2 uv0 = uv0_noColor * float(fullColor ^ 1u) + uv0_color * float(fullColor);\r\n\tvUV = (uv0 + uv_offset)*uvUnit;\r\n\t//vColor=vec4(color)*colorUnit;\r\n\tvColor = color;\r\n\tvIsFullColor = float(fullColor);\r\n\tuint c = (type & 3u) | (fullColor * 3u);\r\n\tvAlphaChannel = vec4(c == 0u, c == 1u, c == 2u, c == 3u);\r\n}\r\n\r\n",Lt="#version 300 es\r\nprecision mediump float;\r\n\r\nin vec2 vUV;\r\nin vec4 vColor;\r\nin float vIsFullColor;\r\nin vec4 vAlphaChannel;\r\n\r\n\r\nout vec4 FragColor;\r\n\r\nuniform sampler2D myTextureSampler;\r\n\r\nvoid main(){\r\n\tvec4 texture = texture( myTextureSampler, vUV);\r\n\tvec3 texColor = vIsFullColor * (texture.rgb - vec3(1.0)); //<0,0,0> if single channel\r\n\tfloat texAlpha = dot(texture,vAlphaChannel);\r\n\r\n\tvec3 color = vColor.rgb + texColor;\r\n\tfloat alpha = vColor.a * texAlpha;\r\n\tFragColor = vec4(color, alpha);\r\n}",Ut="#version 300 es\r\nlayout (location = 0) in vec2 aPos;\r\nlayout (location = 1) in vec2 aTexCoord;\r\n\r\nout vec2 TexCoord;\r\n\r\nvoid main()\r\n{\r\n    gl_Position = vec4(aPos, 0.0, 1.0); \r\n    TexCoord = aTexCoord;\r\n}  ",Bt="#version 300 es\r\nprecision mediump float;\r\n\r\nin vec2 TexCoord;\r\n\r\nuniform sampler2D frame;  \r\n\r\nout vec4 FragColor;\r\n\r\nvec4 applyBSC(vec4 Color, float brightness, float saturation, float contrast)\r\n{\r\n\tvec3 color_B  = Color.rgb * (1.0 +Color.a * (brightness -1.0));\r\n\tvec3 intensity = vec3(dot(color_B, vec3(0.2125, 0.7154, 0.0721)));\r\n\tvec3 color_BS  = mix(intensity, color_B, 1.0 + Color.a * (saturation -1.0));\r\n\tvec3 color_BSC  = mix(vec3(0.5, 0.5, 0.5), color_BS, 1.0 + Color.a * (contrast - 1.0));\r\n\treturn vec4(color_BSC, Color.a);\r\n}\r\n\r\nvoid main()\r\n{ \r\n    vec4 color = texture(frame, TexCoord);\r\n    FragColor = applyBSC(color, 0.7, 0.9, 2.12);\r\n}",Ot=360,Pt=function(t){var e=t.getContext("webgl2",{alpha:!0,premultipliedAlpha:!0});return e&&(e.clearColor(0,0,0,0),e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.clear(e.COLOR_BUFFER_BIT)),e},Ft=function(t,e,r){var n=t.createShader(r);t.shaderSource(n,e),t.compileShader(n);var a=t.getShaderParameter(n,t.COMPILE_STATUS);if(!a)throw"could not compile shader:"+t.getShaderInfoLog(n);return n},kt=function(t,e,r){var n=t.createProgram();t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n);var a=t.getProgramParameter(n,t.LINK_STATUS);if(!a)throw"program filed to link:"+t.getProgramInfoLog(n);return n},Dt=function(t){for(var e=Ft(t,Tt,t.VERTEX_SHADER),r=Ft(t,Lt,t.FRAGMENT_SHADER),n=kt(t,e,r),a={program:n,vao:t.createVertexArray(),attributes:{position:t.getAttribLocation(n,"position"),type:t.getAttribLocation(n,"type"),color:t.getAttribLocation(n,"color"),corner:t.getAttribLocation(n,"corner")},uniforms:{texture:t.getUniformLocation(n,"myTextureSampler")},buffers:{vertices:t.createBuffer(),colors:t.createBuffer(),types:t.createBuffer(),corners:t.createBuffer(),indices:t.createBuffer(),texture:t.createTexture()}},i=a.attributes,s=a.buffers,o=new Uint8Array(4*Ot),c=new Uint16Array(6*Ot),l=0;l<Ot;l++){var u=4*l;o.set([0,1,2,3],u),c.set([u,u+1,u+2,u+2,u+1,u+3],6*l)}return t.useProgram(n),t.bindVertexArray(a.vao),t.enableVertexAttribArray(i.position),t.enableVertexAttribArray(i.color),t.enableVertexAttribArray(i.type),t.enableVertexAttribArray(i.corner),t.bindBuffer(t.ARRAY_BUFFER,s.vertices),t.vertexAttribIPointer(i.position,2,t.BYTE,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,s.colors),t.vertexAttribPointer(i.color,4,t.UNSIGNED_BYTE,!0,0,0),t.bindBuffer(t.ARRAY_BUFFER,s.types),t.vertexAttribIPointer(i.type,1,t.UNSIGNED_SHORT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,s.corners),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.vertexAttribIPointer(i.corner,1,t.UNSIGNED_BYTE,!1,0,0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s.indices),t.bufferData(t.ELEMENT_ARRAY_BUFFER,c,t.STATIC_DRAW),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,s.texture),t.uniform1i(a.uniforms.texture,0),a},Mt=function(t){var e=Ft(t,Ut,t.VERTEX_SHADER),r=Ft(t,Bt,t.FRAGMENT_SHADER),n=kt(t,e,r),a={program:n,vao:t.createVertexArray(),attributes:{position:t.getAttribLocation(n,"aPos"),uv:t.getAttribLocation(n,"aTexCoord")},uniforms:{texture:t.getUniformLocation(n,"frame")},buffers:{XYUV:t.createBuffer(),texture:t.createTexture()},framebuffer:t.createFramebuffer()},i=a.attributes,s=a.buffers,o=new Int8Array([-128,127,0,0,-128,-128,0,127,127,-128,127,127,-128,127,0,0,127,-128,127,127,127,127,127,0]);return t.useProgram(n),t.bindVertexArray(a.vao),t.bindBuffer(t.ARRAY_BUFFER,s.XYUV),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.vertexAttribPointer(i.position,2,t.BYTE,!0,4,0),t.vertexAttribPointer(i.uv,2,t.BYTE,!0,4,2),t.enableVertexAttribArray(i.position),t.enableVertexAttribArray(i.uv),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,s.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1024,512,0,t.RGBA,t.UNSIGNED_BYTE,null),t.uniform1i(a.uniforms.texture,0),t.bindFramebuffer(t.FRAMEBUFFER,a.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s.texture,0),t.checkFramebufferStatus(t.FRAMEBUFFER)!=t.FRAMEBUFFER_COMPLETE&&console.log("ERROR::FRAMEBUFFER:: Framebuffer is not complete!"),a},$t=function(){function t(e){Object(At["a"])(this,t),this.gl=null,this.shaderProgram=null,this.postProcessingProgram=null,this.init(e)}return Object(St["a"])(t,[{key:"init",value:function(t){var e=Pt(t);this.gl=e,this.shaderProgram=Dt(e),this.postProcessingProgram=Mt(e),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight)}},{key:"resize",value:function(t,e){var r=this.gl;r.canvas.width===t&&r.canvas.height===e||(r.canvas.width=t,r.canvas.height=e,r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight))}},{key:"updateVertices",value:function(t){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.shaderProgram.buffers.vertices),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}},{key:"updateColors",value:function(t){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.shaderProgram.buffers.colors),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}},{key:"updateTypes",value:function(t){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.shaderProgram.buffers.types),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}},{key:"initTexture",value:function(t){var e=this.gl;e.bindTexture(e.TEXTURE_2D,this.shaderProgram.buffers.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D)}},{key:"draw",value:function(t){var e=this.gl;e.useProgram(this.shaderProgram.program),e.bindVertexArray(this.shaderProgram.vao),e.bindFramebuffer(e.FRAMEBUFFER,this.postProcessingProgram.framebuffer),e.bindTexture(e.TEXTURE_2D,this.shaderProgram.buffers.texture),e.viewport(0,0,1024,512),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.drawElements(e.TRIANGLES,6*t,e.UNSIGNED_SHORT,0),e.useProgram(this.postProcessingProgram.program),e.bindVertexArray(this.postProcessingProgram.vao),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,this.postProcessingProgram.buffers.texture),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.clear(e.COLOR_BUFFER_BIT),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.drawArrays(e.TRIANGLES,0,6)}}]),t}(),Nt=$t,Vt={name:"ViewCanvas",created:function(){this.texture.src="./symbols.png"},mounted:function(){this.canvas=this.$el,this.renderer=new Nt(this.canvas);var t=this;this.texture.onload=function(){t.renderer.initTexture(t.texture),t.createShapeList()}},data:function(){return{canvas:null,texture:new Image,renderer:null,readyToRender:!0,vertices:new Int8Array(1800),colors:new Uint8Array(3600),types:new Uint16Array(900)}},computed:{layers:function(){return this.$store.getters.layers},updateRequest:function(){return this.$store.state.symbolart.requestRenderUpdate}},watch:{layers:function(t){this.readyToRender&&t&&(requestAnimationFrame(this.rebuildListandRender),this.readyToRender=!1)},updateRequest:function(t){this.readyToRender&&Object.keys(t).length&&(requestAnimationFrame(this.updateAndRender),this.readyToRender=!1)}},methods:{rebuildListandRender:function(){for(var t=this.layers,e=t.length-1,r=0;r<t.length;r++){var n=this.$store.state.symbolart.parts[t[e-r]];this.vertices.set([n.lbx,n.lby,n.ltx,n.lty,n.rbx,n.rby,n.rtx,n.rty],8*r),this.colors.set([n.r,n.g,n.b,n.a,n.r,n.g,n.b,n.a,n.r,n.g,n.b,n.a,n.r,n.g,n.b,n.a],16*r),this.types.set([n.type,n.type,n.type,n.type],4*r)}this.renderer.updateTypes(this.types),this.renderer.updateColors(this.colors),this.renderer.updateVertices(this.vertices),this.render()},updateAndRender:function(){var t=this.updateRequest,e=0,r=this.layers.length-1,n=this.$store.getters.layerIndexOf;for(var a in t){var i=this.$store.state.symbolart.parts[a],s=t[a],o=r-n[a];e|=s,4|s&&this.types.set([i.type,i.type,i.type,i.type],4*o),2|s&&this.colors.set([i.r,i.g,i.b,i.a,i.r,i.g,i.b,i.a,i.r,i.g,i.b,i.a,i.r,i.g,i.b,i.a],16*o),1|s&&this.vertices.set([i.lbx,i.lby,i.ltx,i.lty,i.rbx,i.rby,i.rtx,i.rty],8*o)}4|e&&this.renderer.updateTypes(this.types),2|e&&this.renderer.updateColors(this.colors),1|e&&this.renderer.updateVertices(this.vertices),this.render()},render:function(){this.resize(),this.renderer.draw(this.layers.length),this.readyToRender=!0,this.$store.commit("clearRenderUpdateRequest")},resize:function(){var t=this.canvas,e=t.clientWidth,r=t.clientHeight;this.renderer.resize(e,r)},createShapeList:function(){var t=new Int8Array(2880),e=new Uint8Array(5760),r=new Uint16Array(1440);e.fill(255);for(var n,a,i,s,o=0,c=0,l=0;l<325;l++)r.set([l,l,l,l],4*l),n=6*c-96,a=6*c+6-96,i=6*o-48,s=6*o+6-48,t.set([n,s,n,i,a,s,a,i],8*l),c++,32===c&&(c=0,o++);o=11,c=0;for(var u=0;u<34;u++){var d=u+512;r.set([d,d,d,d],4*(u+325)),n=6*c-96,a=6*c+6-96,i=6*o-48,s=6*o+6-48,t.set([n,s,n,i,a,s,a,i],8*(u+325)),c++,32===c&&(c=0,o++)}this.renderer.updateTypes(r),this.renderer.updateColors(e),this.renderer.updateVertices(t),this.renderer.resize(1024,512),this.renderer.draw(359);var h=[],v=document.createElement("canvas");v.width=32,v.height=32;var f=v.getContext("2d");o=0,c=0;for(var p=0;p<325;p++){var m=32*c,g=32*o;f.drawImage(this.canvas,m,g,32,32,0,0,32,32);var b=p,y=v.toDataURL();h.push({type:b,url:y}),f.clearRect(0,0,32,32),c++,32===c&&(c=0,o++)}o=11,c=0;for(var x=0;x<34;x++){var _=32*c,C=32*o;f.drawImage(this.canvas,_,C,32,32,0,0,32,32);var E=x+512,w=v.toDataURL();h.push({type:E,url:w}),f.clearRect(0,0,32,32),c++,32===c&&(c=0,o++)}this.renderer.updateTypes(this.types),this.renderer.updateColors(this.colors),this.renderer.updateVertices(this.vertices),this.renderer.draw(0),this.$store.commit("setShapeList",{shapeList:h})}}},zt=Vt,Ht=Object(m["a"])(zt,Rt,It,!1,null,null,null),jt=Ht.exports,Xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"-127 -127 255 255",transform:"scale(1, 1)"},on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.onBackgroundClicked(e)}}},[r("g",{directives:[{name:"show",rawName:"v-show",value:t.layer,expression:"layer"}],on:{mousedown:t.onDragStart,wheel:function(e){return e.stopPropagation(),e.preventDefault(),t.selectNextLayerHit(e)}}},[r("polygon",{attrs:{points:[t.v.ltx,t.v.lty,t.v.rtx,t.v.rty,t.v.rbx,t.v.rby,t.v.lbx,t.v.lby].join(" "),opacity:"0",vert:"lt rt rb lb"}}),r("line",{staticClass:"line",attrs:{x1:t.v.ltx,y1:t.v.lty,x2:t.v.rtx,y2:t.v.rty,vert:"lt rt"}}),r("line",{staticClass:"line",attrs:{x1:t.v.rtx,y1:t.v.rty,x2:t.v.rbx,y2:t.v.rby,vert:"rt rb"}}),r("line",{staticClass:"line",attrs:{x1:t.v.rbx,y1:t.v.rby,x2:t.v.lbx,y2:t.v.lby,vert:"rb lb"}}),r("line",{staticClass:"line",attrs:{x1:t.v.lbx,y1:t.v.lby,x2:t.v.ltx,y2:t.v.lty,vert:"lb lt"}}),r("circle",{staticClass:"point",attrs:{cx:t.v.ltx,cy:t.v.lty,vert:"lt"}}),r("circle",{staticClass:"point",attrs:{cx:t.v.rtx,cy:t.v.rty,vert:"rt"}}),r("circle",{staticClass:"point",attrs:{cx:t.v.rbx,cy:t.v.rby,vert:"rb"}}),r("circle",{staticClass:"point",attrs:{cx:t.v.lbx,cy:t.v.lby,vert:"lb"}})])])},Gt=[],Yt=(r("0b21"),r("28a5"),{name:"VertexEditor",data:function(){return{editId:null,dragStartX:null,dragStartY:null,verticesBeforeDrag:null,dragVertex:null,scale:.25,updateReady:!0}},computed:{selectedId:function(){return this.$store.getters.selectedLayerId},layer:function(){var t=this.$store.state.symbolart.parts[this.selectedId];return!t||t.children?null:t},layerIndex:function(){return this.$store.getters.layerIndexOf[this.selectedId]},v:function(){return this.layer||{}},layers:function(){return this.$store.getters.layers}},methods:{onDragStart:function(t){var e=t.srcElement.getAttribute("vert");if(e){this.editId=this.selectedId,this.dragVertex=e.split(" "),this.dragStartX=t.x,this.dragStartY=t.y;var r=this.layer,n=r.lbx,a=r.lby,i=r.ltx,s=r.lty,o=r.rbx,c=r.rby,l=r.rtx,u=r.rty;this.verticesBeforeDrag={lbx:n,lby:a,ltx:i,lty:s,rbx:o,rby:c,rtx:l,rty:u},document.addEventListener("mousemove",this.onDragging,!1),document.addEventListener("mouseup",this.onDragEnd,!1)}},onDragging:function(t){var e=this;this.updateReady&&(requestAnimationFrame(function(){for(var r=(t.x-e.dragStartX)*e.scale,n=(t.y-e.dragStartY)*e.scale,a={},i=0;i<e.dragVertex.length;i++){var s=e.dragVertex[i];a[s+"x"]=e.verticesBeforeDrag[s+"x"]+r,a[s+"y"]=e.verticesBeforeDrag[s+"y"]+n}e.$store.commit("continuousEdit",{id:e.editId,edits:a,editType:1}),e.updateReady=!0}),this.updateReady=!1)},onDragEnd:function(t){var e=this;requestAnimationFrame(function(){for(var r=(t.x-e.dragStartX)*e.scale,n=(t.y-e.dragStartY)*e.scale,a={},i=0;i<e.dragVertex.length;i++){var s=e.dragVertex[i];a[s+"x"]=e.verticesBeforeDrag[s+"x"]+r,a[s+"y"]=e.verticesBeforeDrag[s+"y"]+n}e.$store.commit("finishEdit",{id:e.editId,edits:a,editType:1})}),document.removeEventListener("mousemove",this.onDragging,!1),document.removeEventListener("mouseup",this.onDragEnd,!1)},selectLayerHit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.layers){var n=this.$el.getBoundingClientRect(),a=.25*(t.pageX-n.left-512),i=.25*(t.pageY-n.top-512),s=e;while(0<=s&&s<this.layers.length){var o=this.layers[s],c=this.$store.state.symbolart.parts[o];if(qt(a,i,c.lbx,c.lby,c.ltx,c.lty,c.rbx,c.rby)||qt(a,i,c.rbx,c.rby,c.ltx,c.lty,c.rtx,c.rty))return void this.$store.commit("select",o);s+=r}}},selectNextLayerHit:function(t){var e=this;this.updateReady&&(requestAnimationFrame(function(){var r=Math.sign(t.deltaY);e.selectLayerHit(t,e.layerIndex+r,r),e.updateReady=!0}),this.updateReady=!1)},onBackgroundClicked:function(t){this.layer?this.$store.commit("deselectAll"):this.selectLayerHit(t)}}}),qt=function(t,e,r,n,a,i,s,o){var c=.5*(-i*s+n*(-a+s)+r*(i-o)+a*o),l=Math.sign(c),u=(n*s-r*o+(o-n)*t+(r-s)*e)*l,d=(r*i-n*a+(n-i)*t+(a-r)*e)*l;return u>0&&d>0&&u+d<2*c*l},Wt=Yt,Zt=(r("2da2"),Object(m["a"])(Wt,Xt,Gt,!1,null,null,null)),Jt=Zt.exports,Kt={name:"ViewerEditor",mounted:function(){this.center()},components:{ViewCanvas:jt,VertexEditor:Jt},computed:{backgroundImage:function(){return this.$store.state.symbolart.referenceImage}},methods:{center:function(){var t=this.$el,e=document.getElementById("viewer-content"),r=e.clientWidth-t.clientWidth,n=e.clientHeight-t.clientHeight;t.scroll(r/2,n/2)}}},Qt=Kt,te=(r("8967"),r("5a80"),Object(m["a"])(Qt,Et,wt,!1,null,"32320660",null)),ee=te.exports,re=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cs_editor"},[r("ColorEditor",{staticClass:"color_editor"}),r("ShapeEditor",{staticClass:"shape_editor"})],1)},ne=[],ae=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"color_editor"},[r("ColorPicker",{attrs:{value:t.color,size:200},on:{"color-change":t.updateColor,"finish-edit":t.finishUpdateColor}}),r("div",{attrs:{id:"alpha-editor"}},[r("svg",{attrs:{id:"alpha-bg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewbox:"0 0 192 24"}},[r("rect",{attrs:{fill:"white",x:"0",y:"0",width:"100%",height:"24"}}),r("pattern",{attrs:{id:"pattern",x:"0",y:"0",width:"12",height:"12",patternUnits:"userSpaceOnUse"}},[r("rect",{attrs:{fill:"gray",x:"0",width:"6",height:"6",y:"0"}}),r("rect",{attrs:{fill:"gray",x:"6",width:"6",height:"6",y:"6"}})]),r("g",[r("rect",{attrs:{fill:"url(#pattern)",y:"0",x:"0",width:"192",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.125",y:"0",x:"0",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.25",y:"0",x:"24",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.375",y:"0",x:"48",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.5",y:"0",x:"72",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.625",y:"0",x:"96",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.75",y:"0",x:"120",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.875",y:"0",x:"144",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"1",y:"0",x:"168",width:"24",height:"24"}})])]),r("input",{attrs:{type:"range",min:"1",max:"8",id:"alpha-slider"},domProps:{value:t.alpha},on:{input:t.updateAlpha}})])],1)},ie=[],se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{id:"colorpicker",width:t.size,height:t.size,viewBox:"-1 -1 2 2",transform:"scale(1,-1)"}},[r("defs",[r("pattern",{attrs:{id:"sat-lum-mask",patternUnits:"userSpaceOnUse",x:"0.95",y:"1",width:"1.9",height:"1.5"}},[r("image",{attrs:{href:t.satLumMask,x:"0",y:"0",width:"1.9",height:"1.5",preserveAspectRatio:"none"}})]),r("pattern",{attrs:{id:"hue-pattern",patternUnits:"userSpaceOnUse",x:"1",y:"1",width:"2",height:"2"}},[r("image",{attrs:{href:t.hueImg,x:"0",y:"0",width:"2",height:"2"}})])]),r("g",{on:{mousedown:t.beginDragHue}},[r("circle",{staticClass:"hue-wheel",attrs:{stroke:"url(#hue-pattern)"}}),r("circle",{staticClass:"hue-picker-inner",class:{active:t.editingHue},style:t.huePickerStyle}),r("circle",{staticClass:"hue-picker-outer",class:{active:t.editingHue},style:t.huePickerStyle})]),r("circle",{staticClass:"blocker"}),r("g",{staticClass:"hsl-triangle",on:{mousedown:t.beginDragSatLum}},[r("polygon",{ref:"triangle",staticClass:"hue",attrs:{points:t.a,transform:"scale(0.84)",fill:t.hueColor}}),r("polygon",{staticClass:"sl",attrs:{points:t.a,transform:"scale(0.84)",fill:"url(#sat-lum-mask)"}}),r("g",{attrs:{transform:t.transformSatLum}},[r("circle",{staticClass:"sl-picker-inner",class:{active:t.editingSatLum},attrs:{cx:"0",cy:"0"}}),r("circle",{staticClass:"sl-picker-outer",class:{active:t.editingSatLum},attrs:{cx:"0",cy:"0"}})])])])},oe=[];r("c5f6");var ce=function(t){var e=t.h,r=t.c,n=t.l,a=r*(1-Math.abs(e/60%2-1)),i=n-r/2,s=0,o=0,c=0;return 0<=e&&e<60?(s=r,o=a,c=0):60<=e&&e<120?(s=a,o=r,c=0):120<=e&&e<180?(s=0,o=r,c=a):180<=e&&e<240?(s=0,o=a,c=r):240<=e&&e<300?(s=a,o=0,c=r):300<=e&&e<360&&(s=r,o=0,c=a),s=Math.round(255*(s+i)),o=Math.round(255*(o+i)),c=Math.round(255*(c+i)),{r:s,g:o,b:c}},le=function(t){var e=t.r,r=t.g,n=t.b;e/=255,r/=255,n/=255;var a=Math.min(e,r,n),i=Math.max(e,r,n),s=i-a,o=0,c=0,l=0;return o=0==s?0:i==e?(r-n)/s%6:i==r?(n-e)/s+2:(e-r)/s+4,o*=60,o<0&&(o+=360),l=(i+a)/2,c=s,{h:o,c:c,l:l}},ue={props:{size:{type:Number},value:{type:Object}},data:function(){return{currentHCL:{h:0,c:1,l:.5},currentRGB:{r:255,g:0,b:0},satLumMask:"",hueImg:"",a:"0,1 0.8660254,-0.5 -0.8660254,-0.5",animationFrame:!0,editingHue:!1,editingSatLum:!1}},computed:{rgb:{get:function(){return this.value},set:function(t){this.$emit("color-change",t)}},hcl:{get:function(){var t=this.rgb,e=this.currentRGB;if(e.r===t.r&&e.g===t.g&&e.b===t.b)return this.currentHCL;var r=le(t);return t.r===t.g&&t.g===t.b&&(r.h=this.currentHCL.h),r},set:function(t){this.currentHCL=t;var e=ce(t);this.currentRGB=e,this.rgb=e}},hsl:function(){var t=this.hcl,e=t.h,r=t.c,n=t.l,a=0;return 0<n&&n<1&&(a=r/(1-Math.abs(2*n-1))),{h:e,s:a,l:n}},hueColor:function(){return"hsl("+this.hsl.h+", 100%, 50%)"},huePickerStyle:function(){var t=2*Math.PI*this.hcl.h/360,e=.92,r=e*Math.cos(t),n=e*Math.sin(t);return{cx:r,cy:n}},transformSatLum:function(){var t=this.hcl,e=t.c,r=t.l,n=1.455*(r-.5),a=1.26*(e-.5)+.21;return"translate("+n+","+a+")"}},methods:{beginDragHue:function(t){document.addEventListener("mousemove",this.onDragHue,!1),document.addEventListener("mouseup",this.doneDragHue,!1),this.editingHue=!0,this.onDragHue(t)},onDragHue:function(t){var e=this;this.animationFrame&&(this.animationFrame=!1,requestAnimationFrame(function(){var r=e.$el.getBoundingClientRect(),n=t.clientX-r.x,a=t.clientY-r.y,i=n-.5*e.size,s=a-.5*e.size,o=180*Math.atan2(s,i)/Math.PI,c=o<=0?-o:360-o,l=e.hcl,u=l.c,d=l.l;e.hcl={h:c,c:u,l:d},e.animationFrame=!0}))},doneDragHue:function(){document.removeEventListener("mousemove",this.onDragHue,!1),document.removeEventListener("mouseup",this.doneDragHue,!1),this.editingHue=!1,this.$emit("finish-edit",this.currentRGB)},beginDragSatLum:function(t){document.addEventListener("mousemove",this.onDragSatLum,!1),document.addEventListener("mouseup",this.doneDragSatLum,!1),this.editingSatLum=!0,this.onDragSatLum(t)},onDragSatLum:function(t){var e=this;this.animationFrame&&(this.animationFrame=!1,requestAnimationFrame(function(){var r=e.$refs.triangle.getBoundingClientRect(),n=(t.clientX-r.left)/r.width,a=(r.bottom-t.clientY)/r.height,i=Math.max(0,Math.min(a,1)),s=i/2,o=1-i/2,c=Math.max(s,Math.min(n,o));e.hcl={h:e.hcl.h,c:i,l:c},e.animationFrame=!0}))},doneDragSatLum:function(){document.removeEventListener("mousemove",this.onDragSatLum,!1),document.removeEventListener("mouseup",this.doneDragSatLum,!1),this.editingSatLum=!1,this.$emit("finish-edit",this.currentRGB)}},mounted:function(){var t=this.size,e=.45*t,r=document.createElement("canvas");r.width=t,r.height=t;var n=r.getContext("2d");n.lineWidth=.1*t;for(var a=Math.PI,i=32,s=e,o=0,c=0,l=0,u=1;u<=i;u++){var d=u*(2/i)*a,h=u/i*360,v=e*Math.cos(d)+.5*t,f=e*Math.sin(d)+.5*t,p=n.createLinearGradient(s,o,v,f);p.addColorStop(0,"hsl("+c+", 100%, 50%)"),p.addColorStop(1,"hsl("+h+", 100%, 50%)"),n.strokeStyle=p,n.beginPath(),n.arc(.5*t,.5*t,e,l,d+.01),n.stroke(),s=v,o=f,c=h,l=d}this.hueImg=r.toDataURL();var m=Math.floor(.84*this.size*.5),g=document.createElement("canvas"),b=g.getContext("2d");g.width=m,g.height=m;for(var y=b.createImageData(m,m),x=0;x<m;x++)for(var _=x/(m-1),C=0;C<m;C++){var E=C/(m-1),w=E/(2*Math.min(_,1-_)),R=1-2*Math.min(_*w,(1-_)*w),I=R>0?(2*_-1+R)*(.5/R):0;R*=255,I*=255,y.data.set([I,I,I,R],4*(C*m+x))}b.putImageData(y,0,0),this.satLumMask=g.toDataURL()}},de=ue,he=(r("f57a"),r("b3d0"),Object(m["a"])(de,se,oe,!1,null,"d714847e",null)),ve=he.exports,fe={name:"ColorEditor",components:{ColorPicker:ve},data:function(){return{selfColor:{r:255,g:0,b:0}}},computed:{id:function(){return this.$store.getters.selectedLayerId},layer:function(){return this.id&&this.$store.state.symbolart.parts[this.id]},color:function(){var t=this.layer;return t?{r:t.r,g:t.g,b:t.b}:this.selfColor},colorCode:function(){var t=this.color,e=t.r,r=t.g,n=t.b;return"rgb("+e+","+r+","+n+")"},alpha:function(){var t=this.layer;return t?(this.layer.a+1)/32:8}},methods:{updateColor:function(t){this.layer?this.$store.commit("continuousEdit",{id:this.id,edits:t,editType:2}):this.selfColor=t},updateAlpha:function(t){if(this.layer){var e=32*+t.srcElement.value-1;this.$store.commit("editPart",{id:this.id,edits:{a:e},editType:2})}},finishUpdateColor:function(t){this.layer?this.$store.commit("finishEdit",{id:this.id,edits:t,editType:2}):this.selfColor=t}}},pe=fe,me=(r("565b"),Object(m["a"])(pe,ae,ie,!1,null,"9793beae",null)),ge=me.exports,be=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"shape_editor"},t._l(t.shapeList,function(e){return r("div",{key:e.type,ref:"shapes",refInFor:!0,staticClass:"shape_thumb",class:{active:e.type===t.layerShape},on:{click:function(r){return t.updateShape(e.type)}}},[r("img",{staticClass:"shape_image",attrs:{src:e.url}})])}),0)},ye=[],xe={name:"ShapeEditor",computed:{shapeList:function(){return this.$store.state.symbolart.shapeList},LayerId:function(){return this.$store.getters.selectedLayerId},layer:function(){return this.$store.state.symbolart.parts[this.LayerId]},layerShape:function(){return this.layer?this.layer.type:null}},watch:{layerShape:function(t){null!=t&&(t<512?this.$refs.shapes[t].scrollIntoView({block:"nearest"}):this.$refs.shapes[t-512+325].scrollIntoView({block:"nearest"}))}},methods:{updateShape:function(t){this.layer&&this.$store.commit("editPart",{id:this.LayerId,edits:{type:t},editType:4})}}},_e=xe,Ce=(r("beb3"),r("9a84"),Object(m["a"])(_e,be,ye,!1,null,"65acb74d",null)),Ee=Ce.exports,we={name:"ColorShapeEditor",components:{ColorEditor:ge,ShapeEditor:Ee}},Re=we,Ie=(r("1a26"),Object(m["a"])(Re,re,ne,!1,null,null,null)),Ae=Ie.exports,Se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"footer"},[t._v("\n    Welcome to Symbol Art Maker. The project is under construction. Many\n    features are not implemented.\n")])},Te=[],Le={name:"FooterBar"},Ue=Le,Be=(r("ad39"),Object(m["a"])(Ue,Se,Te,!1,null,null,null)),Oe=Be.exports,Pe={name:"app",components:{HeaderBar:W,ToolBar:pt,PartsList:Ct,ViewerEditor:ee,ColorShapeEditor:Ae,FooterBar:Oe}},Fe=Pe,ke=(r("034f"),r("be3a"),Object(m["a"])(Fe,a,i,!1,null,"3428c78a",null)),De=ke.exports,Me=r("2f62"),$e=r("75fc"),Ne=r("768b"),Ve=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Untitled Symbol Art",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{name:String(t),visible:Boolean(e),children:r}},ze=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed layer",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:255,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-16,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-16,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-16,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:16,h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:-16,v=arguments.length>13&&void 0!==arguments[13]?arguments[13]:16,f=arguments.length>14&&void 0!==arguments[14]?arguments[14]:16;return{visible:Boolean(e),type:Number(r),r:Number(n),g:Number(a),b:Number(i),a:Number(s),ltx:Number(o),lty:Number(c),lbx:Number(l),lby:Number(u),rtx:Number(d),rty:Number(h),rbx:Number(v),rby:Number(f),name:String(t),index:null}},He=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnammed group",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{name:t,visible:e,children:r}},je={newSymbolArt:function(t){t.parts={0:Ve()},t.lastId=0,t.selected={},t.requestUpdateColorLayers={},t.requestUpdateVertLayers={},t.equestUpdateTypeLayers={},t.undoStack=[],t.redoStack=[]},setSymbolArt:function(t,e){t.parts=e.parts,t.lastId=e.lastId,t.selected={},t.requestUpdateColorLayers={},t.requestUpdateVertLayers={},t.equestUpdateTypeLayers={},t.undoStack=[],t.redoStack=[]},addLayer:function(t,e){var r=e.parent,n=e.index,a=ze("Layer "+t.lastId),i=++t.lastId;Xe(t,[Ge(t,r,n,i,a)])},addGroup:function(t,e){var r=e.parent,n=e.index,a=He("New Group"),i=++t.lastId;Xe(t,[Ge(t,r,n,i,a)])},deletePart:function(t,e){var r=e.parent,n=e.index;Xe(t,[Ye(t,r,n)])},movePart:function(t,e){var r=e.parentOld,n=e.indexOld,a=e.parentNew,i=e.indexNew;Xe(t,[qe(t,r,n,a,i,1)])},select:function(t,e){t.selected={},t.selected[e]=!0},deselectAll:function(t){t.selected={}},editPart:function(t,e){var r=e.id,n=e.edits,a=e.editType;Xe(t,[We(t,r,n,a)])},continuousEdit:function(t,e){var r=e.id,a=e.edits,i=e.editType;t.beforeEdit[r]||(t.beforeEdit[r]=Object.assign({},t.parts[r])),Object.assign(t.parts[r],a),n["a"].set(t.requestRenderUpdate,r,t.requestRenderUpdate[r]|i)},finishEdit:function(t,e){var r=e.id,n=e.edits,a=e.editType;t.beforeEdit[r]&&(Object.assign(t.parts[r],t.beforeEdit[r]),Xe(t,[We(t,r,n,a)]),delete t.beforeEdit[r])},clearRenderUpdateRequest:function(t){t.requestRenderUpdate={}},setShapeList:function(t,e){var r=e.shapeList;t.shapeList=r},undo:function(t){for(var e=t.undoStack.pop(),r=[],n=0;n<e.length;n++){var a=e.pop();r.push(a(t))}t.redoStack.push(r)},redo:function(t){for(var e=t.redoStack.pop(),r=[],n=0;n<e.length;n++){var a=e.pop();r.push(a(t))}t.undoStack.push(r)},setReferenceImage:function(t,e){t.referenceImage=e}},Xe=function(t,e){t.undoStack.push(e),t.redoStack=[]},Ge=function(t,e,r,a,i){return n["a"].set(t.parts,a,i),t.parts[e].children.splice(r,0,a),function(t){return Ye(t,e,r)}},Ye=function(t,e,r){var a=t.parts[e].children.splice(r,1),i=Object(Ne["a"])(a,1),s=i[0],o=t.parts[s];return n["a"].delete(t.selected,s),n["a"].delete(t.parts,s),function(t){return Ge(t,e,r,s,o)}},qe=function t(e,r,n,a,i,s){var o,c=e.parts[r].children.splice(n,s);return(o=e.parts[a].children).splice.apply(o,[i,0].concat(Object($e["a"])(c))),function(e){return t(e,a,i,r,n,s)}},We=function t(e,r,a,i){var s=e.parts[r];for(var o in a){var c=s[o];s[o]=Math.round(a[o])||a[o],a[o]=c}return i&&n["a"].set(e.requestRenderUpdate,r,e.requestRenderUpdate[r]|i),function(e){return t(e,r,a,i)}},Ze=je,Je=r("c51a"),Ke=r.n(Je),Qe=function(t,e){var r=new FileReader;r.onload=function(t){return e(tr(t.target.result))},r.readAsText(t)},tr=function(t){var e={ignoreDeclaration:!0,ignoreInstruction:!0,ignoreComment:!0,ignoreCdada:!0,ignoreDoctype:!0,ignoreText:!0,nativeTypeAtteibutes:!1,alwaysArray:!0},r=Ke.a.xml2js(t,e).elements[0],n={0:Ve(r.attributes.name,"true"===r.attributes.visible,[])},a=er(n,0,r.elements);return{parts:n,lastId:a}},er=function t(e,r,n){for(var a=e[r],i=n,s=0;s<i.length;s++){var o=i[s],c=o.attributes;if("layer"===o.name){var l=rr(c),u=++r;a.children.push(u),e[u]=l}else if("g"===o.name){var d=nr(c),h=++r;a.children.push(h),e[h]=d,r=t(e,h,o.elements)}}return r},rr=function(t){var e="true"===t.visible,r=ar(t.type),n=[1,3,5].map(function(e){return parseInt(t.color.substring(e,e+2),16)}),a=Object(Ne["a"])(n,3),i=a[0],s=a[1],o=a[2],c=255*t.alpha,l=t.name,u=t.ltx,d=t.lty,h=t.lbx,v=t.lby,f=t.rtx,p=t.rty,m=t.rbx,g=t.rby;return ze(l,e,r,i,s,o,c,u,d,h,v,f,p,m,g)},nr=function(t){return He(t.name,t.visible,[])},ar=function(t){return t=+t+1,241<=t&&t<=292?t-241:321<=t&&t<=359?t-321+52:401<=t&&t<=439?t-401+91:481<=t&&t<=517?t-481+130:561<=t&&t<=581?t-561+167:641<=t&&t<=697?t-641+188:1<=t&&t<=80?t-1+245:721<=t&&t<=754?t-721+512:0},ir={loadSamlFile:function(t,e){var r=t.commit;Qe(e,function(t){return r("setSymbolArt",t)})},loadReferenceImage:function(t,e){var r=t.commit,n=new FileReader;n.onload=function(){return r("setReferenceImage",n.result)},n.readAsDataURL(e)}},sr=ir,or={parts:{0:Ve()},lastId:0,selected:{},beforeEdit:{},requestRenderUpdate:{},shapeList:null,undoStack:[],redoStack:[],referenceImage:null},cr={selected:function(t){return Object.keys(t.selected)},selectedLayerId:function(t){var e=Object.keys(t.selected);if(1===e.length){var r=e[0],n=t.parts[r];if(!n.children)return r}return null},_info:function(t){var e=t.parts,r=[],n={},a={},i=function t(i,s,o){for(var c=0;c<s.length;c++){var l=s[c],u=e[l];n[l]={parentId:o,index:c},u.children?i=t(i,u.children,l):(r[i]=l,a[l]=i,i++)}return i};return i(0,e[0].children,0),{layers:r,layerIndexOf:a,partsInfo:n}},layers:function(t,e){return e._info.layers},layerIndexOf:function(t,e){return e._info.layerIndexOf},partInfo:function(t,e){return function(t){return e._info.partsInfo[t]}}},lr={state:or,getters:cr,mutations:Ze,actions:sr};n["a"].use(Me["a"]);var ur=!1,dr=new Me["a"].Store({modules:{symbolart:lr},strict:ur});n["a"].config.productionTip=!1,new n["a"]({store:dr,render:function(t){return t(De)}}).$mount("#app")},"581e":function(t,e,r){},"5a80":function(t,e,r){"use strict";var n=r("2286"),a=r.n(n);a.a},"64a9":function(t,e,r){},6569:function(t,e,r){"use strict";var n=r("5076"),a=r.n(n);a.a},"6ca8":function(t,e,r){},"6e61":function(t,e,r){},"7ae8":function(t,e,r){},8967:function(t,e,r){"use strict";var n=r("489f"),a=r.n(n);a.a},"8bdb":function(t,e,r){"use strict";var n=r("42d7"),a=r.n(n);a.a},"8ecb":function(t,e,r){"use strict";var n=r("e0ba"),a=r.n(n);a.a},"93c1":function(t,e,r){},"9a84":function(t,e,r){"use strict";var n=r("6ca8"),a=r.n(n);a.a},"9c1f":function(t,e,r){},a240:function(t,e,r){},a9dd:function(t,e,r){},ac41:function(t,e,r){},ad39:function(t,e,r){"use strict";var n=r("488b"),a=r.n(n);a.a},b3d0:function(t,e,r){"use strict";var n=r("a9dd"),a=r.n(n);a.a},b974:function(t,e,r){"use strict";var n=r("a240"),a=r.n(n);a.a},be3a:function(t,e,r){"use strict";var n=r("dc3e"),a=r.n(n);a.a},beb3:function(t,e,r){"use strict";var n=r("ea95"),a=r.n(n);a.a},c456:function(t,e,r){"use strict";var n=r("e4ec"),a=r.n(n);a.a},c635:function(t,e,r){},cf6a:function(t,e,r){},d0ed:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("input",{ref:"editname",staticClass:"textinput",attrs:{type:"text"},domProps:{value:t.value},on:{keydown:t.edit,change:t.edit,blur:t.edit}})},a=[],i={props:{value:{type:String},id:{required:!0}},mounted:function(){this.$el.select()},methods:{edit:function(t){if("blur"==t.type||"change"==t.type||"Enter"==t.key){var e=t.target.value||"no name";this.value!=e&&this.$store.commit("editPart",{id:this.id,edits:{name:e},editType:0}),this.$emit("finished")}}}},s=i,o=(r("1763"),r("2877")),c=Object(o["a"])(s,n,a,!1,null,null,null);e["a"]=c.exports},d16b:function(t,e,r){"use strict";var n=r("6e61"),a=r.n(n);a.a},d5ad:function(t,e,r){},d91d:function(t,e,r){},dc3e:function(t,e,r){},e0ba:function(t,e,r){},e24f:function(t,e,r){"use strict";var n=r("c635"),a=r.n(n);a.a},e4ec:function(t,e,r){},ea39:function(t,e,r){"use strict";var n=r("3f0b"),a=r.n(n);a.a},ea95:function(t,e,r){},ede0:function(t,e,r){"use strict";var n=r("581e"),a=r.n(n);a.a},f57a:function(t,e,r){"use strict";var n=r("ac41"),a=r.n(n);a.a}});
//# sourceMappingURL=app.1ebb911f.js.map