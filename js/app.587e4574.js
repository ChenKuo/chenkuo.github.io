(function(t){function e(e){for(var a,i,o=e[0],l=e[1],c=e[2],d=0,h=[];d<o.length;d++)i=o[d],n[i]&&h.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},s=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0037":function(t,e,r){},"0113":function(t,e,r){"use strict";var a=r("99d2"),n=r.n(a);n.a},"034f":function(t,e,r){"use strict";var a=r("64a9"),n=r.n(a);n.a},"0e7a":function(t,e,r){"use strict";var a=r("a2ff"),n=r.n(a);n.a},1:function(t,e){},"1a26":function(t,e,r){"use strict";var a=r("d5ad"),n=r.n(a);n.a},"1b25":function(t,e,r){"use strict";var a=r("0037"),n=r.n(a);n.a},"1ca4":function(t,e,r){},2:function(t,e){},2105:function(t,e,r){},"235c":function(t,e,r){},"2da2":function(t,e,r){"use strict";var a=r("2105"),n=r.n(a);n.a},"2fba":function(t,e,r){"use strict";var a=r("7ae8"),n=r.n(a);n.a},"34d2":function(t,e,r){"use strict";var a=r("9c1f"),n=r.n(a);n.a},"3cb2":function(t,e,r){"use strict";var a=r("235c"),n=r.n(a);n.a},"3f0b":function(t,e,r){},"42d7":function(t,e,r){},"488b":function(t,e,r){},"489f":function(t,e,r){},"4a50":function(t,e,r){"use strict";var a=r("93c1"),n=r.n(a);n.a},5076:function(t,e,r){},"565b":function(t,e,r){"use strict";var a=r("1ca4"),n=r.n(a);n.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("HeaderBar",{attrs:{id:"header"}}),r("ToolBar",{attrs:{id:"top"}}),r("PartsList",{attrs:{id:"left"}}),r("ViewerEditor",{attrs:{id:"middle"}}),r("ColorShapeEditor",{attrs:{id:"right"}}),r("FooterBar",{attrs:{id:"footer"}})],1)},s=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("div",[r("Menu"),r("SaveMessage")],1),r("SymbolArtTitle"),r("Logo")],1)},o=[],l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("DropdownMenu",{attrs:{menu:t.menulist,id:"menu"},on:{optionclick:t.onOption}})},c=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"menu",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},t._l(t.menu,function(e){return r("div",{key:e.value},[r("button",{staticClass:"dropdown_btn",class:{active:t.open===e.value},on:{click:function(r){t.open=e.value}}},[t._v("\n            "+t._s(e.value)+"\n        ")]),e.options?r("DropdownContent",{attrs:{submenu:e,open:t.open===e.value},on:{optionclick:t.propagateOptionClick}}):t._e()],1)}),0)},d=[],h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],staticClass:"dropdown_content"},t._l(t.submenu.options,function(e){return r("div",{key:e.value||e,staticClass:"dropdown_item",class:{active:t.optionOpen===e.value},on:{click:function(r){return r.stopPropagation(),t.onOptionClicked(e)}}},[r("a",[t._v(" "+t._s(e.value||e)+" ")]),e.options?r("a",[t._v("âµ")]):t._e(),e.options?r("DropdownContent",{staticClass:"sub_options",attrs:{open:t.optionOpen===e.value,submenu:e},on:{optionclick:t.propagateOptionClick}}):t._e()],1)}),0)},v=[],p={name:"DropdownContent",props:{submenu:Object,open:Boolean},data:function(){return{optionOpen:null}},watch:{open:function(t){t||(this.optionOpen=null)}},methods:{onOptionClicked:function(t){t.options?this.optionOpen=t.value===this.optionOpen?null:t.value:(this.propagateOptionClick(t.value||t),this.optionOpen=null)},propagateOptionClick:function(t){this.$emit("optionclick",this.submenu.value+"/"+t)}}},f=p,m=(r("e24f"),r("d16b"),r("2877")),y=Object(m["a"])(f,h,v,!1,null,"7245c47a",null),g=y.exports,b={mounted:function(){document.body.addEventListener("click",this.close)},components:{DropdownContent:g},props:{menu:Array},data:function(){return{open:null}},methods:{close:function(){this.open=null},propagateOptionClick:function(t){this.$emit("optionclick",t),this.open=null}}},x=b,_=(r("2fba"),r("8ecb"),Object(m["a"])(x,u,d,!1,null,"0ddadcbb",null)),C=_.exports,E=r("c51a"),w=r.n(E),R={name:"Menu",components:{DropdownMenu:C},data:function(){return{menulist:[{value:"File",options:[{value:"Import from",options:[".saml file"]},"more will be added"]},{value:"Edit",options:["not implemented"]},{value:"View",options:["not implemented"]},{value:"Generator",options:["not implemented"]},{value:"Help",options:["sorry cant halp u"]}]}},methods:{onOption:function(t){var e=this;switch(t){case"File/Import from/.saml file":var r=document.createElement("INPUT");r.setAttribute("type","file"),r.click(),r.onchange=function(){var t=new FileReader;t.onload=function(t){return e.loadSAR(t.target.result)},t.readAsText(r.files[0])};break}},loadSAR:function(t){var e={compact:!0,ignoreDeclaration:!0},r=w.a.xml2js(t,e).sa;this.$store.commit("loadSymbolArt",r)}}},T=R,A=(r("ea39"),Object(m["a"])(T,l,c,!1,null,null,null)),S=A.exports,L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"save_message",on:{click:t.onClickSave}},[t._v("\n    "+t._s(t.message)+"\n")])},U=[],B={name:"SaveMessage",data:function(){return{message:"save changes"}},methods:{onClickSave:function(){this.message="can't save yet"}}},I=B,O=(r("3cb2"),Object(m["a"])(I,L,U,!1,null,null,null)),F=O.exports,P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},D=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"sa-title"}},[r("div",[t._v("Symbol Art Title")])])}],V={name:"SymbolArtTitle"},M=V,$=(r("8bdb"),Object(m["a"])(M,P,D,!1,null,null,null)),z=$.exports,N=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},j=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"logo"},[r("div",[t._v("Symbol Art Maker")])])}],k={name:"Logo"},H=k,X=(r("6569"),Object(m["a"])(H,N,j,!1,null,null,null)),q=X.exports,Y={name:"HeaderBar",components:{Menu:S,SaveMessage:F,SymbolArtTitle:z,Logo:q}},G=Y,W=(r("1b25"),Object(m["a"])(G,i,o,!1,null,null,null)),Z=W.exports,J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toolbar"},[r("div",{staticClass:"edit_buttons"},[r("AddImg",{staticClass:"logo",on:{click:function(e){return t.addLayer()}}}),r("GroupImg",{staticClass:"logo"}),r("UndoImg",{staticClass:"logo"}),r("RedoImg",{staticClass:"logo"}),r("DeleteImg",{staticClass:"logo",on:{click:function(e){return t.deleteLayer()}}})],1),r("div",{staticClass:"view_buttons"},[r("PictureImg",{staticClass:"logo"}),r("OpacityImg",{staticClass:"logo"}),r("CubeImg",{staticClass:"logo"}),r("SquareImg",{staticClass:"logo"}),r("ZoomoutImg",{staticClass:"logo"}),r("ZoominImg",{staticClass:"logo"})],1),r("div",{staticClass:"gen_buttons"},[r("BotImg",{staticClass:"logo"}),r("SettingImg",{staticClass:"logo"})],1)])},K=[],Q={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",version:"1.0"},u),...d},s.concat([r("path",{attrs:{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm4 11h-3v3a1 1 0 0 1-2 0v-3H8a1 1 0 0 1 0-2h3V8a1 1 0 0 1 2 0v3h3a1 1 0 0 1 0 2z"}})]))}},tt={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},s.concat([r("path",{attrs:{d:"M12 2.91L2 7.24v1.516l10 4.334 10-4.334V7.24L12 2.91zm10 7.979l-2 .865v.002l-8 3.467-10-4.327v2.172L12 17.4l10-4.332v-2.18zm0 4.394l-2 .867-8 3.467-10-4.326v2.174l10 4.332 10-4.332v-2.182z"}})]))}},et={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},s.concat([r("path",{attrs:{d:"M2.5 8a.499.499 0 0 0-.5.5V15a1 1 0 0 0 1 1h6.5a.502.502 0 0 0 .354-.854L7.22 12.514A7.925 7.925 0 0 1 12.5 10.5a7.991 7.991 0 0 1 7.172 4.469c.276.56.917.834 1.51.636.709-.236 1.069-1.045.74-1.716C20.216 10.404 16.643 8 12.5 8c-2.72 0-5.182 1.05-7.043 2.75L2.854 8.146A.499.499 0 0 0 2.5 8z"}})]))}},rt={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},s.concat([r("path",{attrs:{d:"M11.5 8c-4.243 0-7.889 2.52-9.543 6.145a1.007 1.007 0 0 0 .594 1.373.986.986 0 0 0 1.21-.526A8.494 8.494 0 0 1 11.5 10a8.45 8.45 0 0 1 5.66 2.178l-2.969 2.968a.5.5 0 0 0 .354.854h6.5a1 1 0 0 0 1-1V8.5a.5.5 0 0 0-.854-.354l-2.623 2.624A10.406 10.406 0 0 0 11.5 8z"}})]))}},at={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 26"},u),...d},s.concat([r("path",{attrs:{d:"M11-.031c-.836 0-1.656.164-2.25.75-.594.586-.781 1.418-.781 2.281H4c-.55 0-1 .45-1 1H2v2h22V4h-1c0-.55-.45-1-1-1h-3.969c0-.863-.187-1.695-.781-2.281-.594-.586-1.414-.75-2.25-.75zm0 2.062h4c.547 0 .719.13.781.188.063.058.188.222.188.781H10.03c0-.559.125-.723.188-.781.062-.059.234-.188.781-.188zM4 7v16c0 1.652 1.348 3 3 3h12c1.652 0 3-1.348 3-3V7zm4 3h2v12H8zm4 0h2v12h-2zm4 0h2v12h-2z"}})]))}},nt={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",version:"1.0"},u),...d},s.concat([r("path",{attrs:{d:"M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zM5.628 16.193l2.49-3.202a.5.5 0 0 1 .779-.012L11 15.51l3.098-3.992a.5.5 0 0 1 .795.007L18.4 16.2a.5.5 0 0 1-.4.8H6.022a.5.5 0 0 1-.394-.807z"}})]))}},st={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},s.concat([r("path",{attrs:{d:"M4 3a1 1 0 0 0-1 1v2h3V3H4zm2 3v4h4V6H6zm4 0h4V3h-4v3zm4 0v4h4V6h-4zm4 0h3V4a1 1 0 0 0-1-1h-2v3zm0 4v4h3v-4h-3zm0 4h-4v4h4v-4zm0 4v3h2a1 1 0 0 0 1-1v-2h-3zm-4 0h-4v3h4v-3zm-4 0v-4H6v4h4zm-4 0H3v2a1 1 0 0 0 1 1h2v-3zm0-4v-4H3v4h3zm4 0h4v-4h-4v4z"}})]))}},it={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},u),...d},s.concat([r("path",{attrs:{d:"M24.988 3a.994.994 0 0 0-.367.074l-20 8.168c-.004.004-.012.004-.016.008a.063.063 0 0 0-.027.016c-.02.007-.039.015-.058.027-.012.004-.024.012-.036.02-.02.011-.035.023-.054.03-.004.009-.012.012-.016.016-.023.016-.043.032-.062.047-.004.004-.012.008-.016.016-.02.015-.043.039-.063.058a.975.975 0 0 1-.062.067c-.004.012-.012.02-.016.027a.337.337 0 0 0-.039.063c-.004 0-.004.004-.008.004l-.046.082v.011c-.016.024-.024.051-.036.079 0 .003-.003.007-.003.011-.012.028-.02.059-.032.086v.012c-.008.027-.011.055-.015.078-.004.012-.004.02-.008.027 0 .028-.004.055-.008.082v24.723a1 1 0 0 0 .621.926l20 8.168c.121.05.25.074.379.074a.964.964 0 0 0 .379-.074l20-8.164a1.01 1.01 0 0 0 .621-.93V12.168a.908.908 0 0 0-.027-.23c-.004-.012-.004-.02-.008-.028a1.181 1.181 0 0 0-.074-.195c-.008-.008-.012-.02-.016-.027a1.081 1.081 0 0 0-.121-.176c-.004-.008-.008-.012-.008-.012l-.012-.012a1.072 1.072 0 0 0-.355-.246l-.04-.015-19.96-8.153a1.036 1.036 0 0 0-.39-.074zM25 5.078l17.352 7.09L25 19.25 7.648 12.168zM6 13.656l18 7.348v22.508L6 36.16z"}})]))}},ot={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},s.concat([r("path",{attrs:{d:"M21 3H3v18h18V3z"}})]))}},lt={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},s.concat([r("path",{attrs:{d:"M9 2C5.146 2 2 5.146 2 9s3.146 7 7 7a6.959 6.959 0 0 0 4.574-1.719l.426.426V16l6 6 2-2-6-6h-1.293l-.426-.426A6.959 6.959 0 0 0 16 9c0-3.854-3.146-7-7-7zm0 2c2.773 0 5 2.227 5 5s-2.227 5-5 5-5-2.227-5-5 2.227-5 5-5zM6 8v2h6V8H6z"}})]))}},ct={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u),...d},s.concat([r("path",{attrs:{d:"M9 2C5.146 2 2 5.146 2 9s3.146 7 7 7a6.959 6.959 0 0 0 4.574-1.719l.426.426V16l6 6 2-2-6-6h-1.293l-.426-.426A6.959 6.959 0 0 0 16 9c0-3.854-3.146-7-7-7zm0 2c2.773 0 5 2.227 5 5s-2.227 5-5 5-5-2.227-5-5 2.227-5 5-5zM8 6v2H6v2h2v2h2v-2h2V8h-2V6H8z"}})]))}},ut={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},u),...d},s.concat([r("path",{attrs:{d:"M43 26v-3.969C43 17.601 39.395 14 34.969 14H26v-3.14c1.723-.45 3-2 3-3.86 0-2.207-1.793-4-4-4s-4 1.793-4 4c0 1.86 1.281 3.41 3 3.86V14h-8.969C10.605 14 7 17.602 7 22.031V26H2v12h5v9h36v-9h5V26zM27 38v7h-4v-7zM15 26.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0zM17 38h4v7h-4zm16 7h-4v-7h4zm-1.5-15a3.5 3.5 0 1 1 0-7 3.5 3.5 0 1 1 0 7z"}})]))}},dt={functional:!0,render(t,e){const{_c:r,_v:a,data:n,children:s=[]}=e,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...d}=n;return r("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",version:"1.0"},u),...d},s.concat([r("path",{attrs:{d:"M47.16 21.221l-5.91-.966a16.933 16.933 0 0 0-1.411-3.405l3.45-4.917a1.001 1.001 0 0 0-.112-1.282l-3.889-3.887a1 1 0 0 0-1.291-.104l-4.843 3.481a16.774 16.774 0 0 0-3.432-1.427l-1.031-5.886A1 1 0 0 0 27.706 2h-5.5a1 1 0 0 0-.987.839l-.956 5.854c-1.2.345-2.352.818-3.437 1.412l-4.83-3.45a1 1 0 0 0-1.289.106L6.82 10.648a.998.998 0 0 0-.112 1.28l3.399 4.863a16.937 16.937 0 0 0-1.438 3.46l-5.831.971a1 1 0 0 0-.836.986v5.5a1 1 0 0 0 .825.985l5.831 1.034a16.853 16.853 0 0 0 1.438 3.46L6.655 38c-.284.397-.239.942.106 1.289l3.888 3.891a1 1 0 0 0 1.281.112l4.87-3.411a16.871 16.871 0 0 0 3.445 1.424l.976 5.861a.997.997 0 0 0 .985.834h5.5c.485 0 .9-.348.984-.825l1.045-5.89a16.816 16.816 0 0 0 3.43-1.435l4.905 3.441a.999.999 0 0 0 1.282-.111l3.888-3.891a1 1 0 0 0 .104-1.292l-3.498-4.857a16.74 16.74 0 0 0 1.407-3.408l5.918-1.039a1 1 0 0 0 .827-.985v-5.5a.998.998 0 0 0-.838-.987zM25 32a7 7 0 1 1 0-14 7 7 0 0 1 0 14z"}})]))}},ht={name:"ToolBar",components:{AddImg:Q,GroupImg:tt,UndoImg:et,RedoImg:rt,DeleteImg:at,PictureImg:nt,OpacityImg:st,CubeImg:it,SquareImg:ot,ZoomoutImg:lt,ZoominImg:ct,BotImg:ut,SettingImg:dt},methods:{addLayer:function(){this.$store.commit("addLayer")},deleteLayer:function(){var t=this.$store.state.selected;1===t.length&&this.$store.commit("deleteLayer",t[0])}}},vt=ht,pt=(r("4a50"),Object(m["a"])(vt,J,K,!1,null,"54432cb8",null)),ft=pt.exports,mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"parts_list"},t._l(t.children,function(t){return r("LayerTab",{key:t,attrs:{id:t}})}),1)},yt=[],gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"layer_tab",class:{selected:t.selected},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.select(e)}}},[r("img",{staticClass:"image",style:t.imageStyle,attrs:{src:t.imageSrc}}),r("div",[t._v(t._s(t.name))])])},bt=[],xt=(r("7f7f"),r("c5f6"),{props:{id:{type:Number,required:!0}},computed:{selected:function(){return this.part.selected},part:function(){return this.$store.state.parts[this.id]},name:function(){return this.part.name},imageStyle:function(){var t=this.part;return{backgroundColor:"rgb("+t.r+","+t.g+","+t.b+","+t.a/255+")"}},imageSrc:function(){var t=this.part.type>=512?this.part.type-512+325:this.part.type;return this.$store.state.shapeList[t].url}},watch:{selected:function(t){t&&this.$el.scrollIntoView({behavior:"smooth",block:"nearest"})}},methods:{select:function(){this.$store.commit("select",this.id)}}}),_t=xt,Ct=(r("c456"),r("0113"),Object(m["a"])(_t,gt,bt,!1,null,"2e0e34b7",null)),Et=Ct.exports,wt={name:"PartsList",components:{LayerTab:Et},computed:{children:function(){return this.$store.state.treeData.map(function(t){return t.id}).reverse()}},methods:{}},Rt=wt,Tt=(r("34d2"),Object(m["a"])(Rt,mt,yt,!1,null,null,null)),At=Tt.exports,St=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"viewer_editor"},[r("div",{staticClass:"limit_area",attrs:{id:"viewer-content"}},[r("div",{staticClass:"canvas_area"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewbox:"0 0 768 384",width:"100%",height:"100%"}},[r("rect",{attrs:{fill:"white",x:"0",y:"0",width:"100%",height:"100%"}}),r("pattern",{attrs:{id:"pattern24",x:"0",y:"0",width:"24",height:"24",patternUnits:"userSpaceOnUse"}},[r("rect",{attrs:{fill:"#cccccc",x:"0",width:"12",height:"12",y:"0"}}),r("rect",{attrs:{fill:"#cccccc",x:"12",width:"12",height:"12",y:"12"}})]),r("rect",{attrs:{fill:"url(#pattern24)",y:"0",x:"0",width:"100%",height:"100%"}})]),r("ViewCanvas",{staticClass:"canvas"})],1),r("VertexEditor",{staticClass:"vert_editor"})],1)])},Lt=[],Ut=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("canvas")},Bt=[],It=(r("6c7b"),r("af56"),r("34ef"),r("b05c"),r("d225")),Ot=r("b0b4"),Ft="#version 300 es\r\n\r\n// Input vertex data, different for all executions of this shader.\r\nlayout(location = 0) in uint type;\r\nlayout(location = 1) in vec4 color;\r\nlayout(location = 2) in ivec2 position;\r\nlayout(location = 3) in uint corner;\r\n\r\n// Output data ; will be interpolated for each fragment.\r\nout vec2 vUV;\r\nout vec4 vColor;\r\nout float vIsFullColor;\r\nout vec4 vAlphaChannel;\r\n\r\nconst float bitSizeX = 1.0 / 96.0;\r\nconst float bitSizeY = 1.0 / 48.0;\r\nconst float bitSizeZ = 1.0 / 256.0;\r\nconst vec2 bitSize = vec2(bitSizeX, bitSizeY);\r\nconst vec2 uvUnit = vec2(0.0625, 0.125);\r\nconst float colorUnit = 1.0 / 255.0;\r\n\r\nvoid main(){\r\n\tgl_Position = vec4(vec2(position) * bitSize, 0.0, 1.0);\r\n\tvec2 uv_offset = vec2((corner>>1), corner&1u^1u);\r\n\t//u=t/4%16\r\n\t//v=t/4/16\r\n\t//c=t%4\r\n\tuint fullColor = (type >>9 )&1u; //1 means fullcolor, otw 0\r\n\tvec2 uv0_noColor = vec2((type >> 2) & 15u, (type >> 6));\r\n\tvec2 uv0_color = vec2((type + 2u) & 15u, 5u+(((type & 63u) + 2u) >> 4));\r\n\tvec2 uv0 = uv0_noColor * float(fullColor ^ 1u) + uv0_color * float(fullColor);\r\n\tvUV = (uv0 + uv_offset)*uvUnit;\r\n\t//vColor=vec4(color)*colorUnit;\r\n\tvColor = color;\r\n\tvIsFullColor = float(fullColor);\r\n\tuint c = (type & 3u) | (fullColor * 3u);\r\n\tvAlphaChannel = vec4(c == 0u, c == 1u, c == 2u, c == 3u);\r\n}\r\n\r\n",Pt="#version 300 es\r\nprecision mediump float;\r\n\r\nin vec2 vUV;\r\nin vec4 vColor;\r\nin float vIsFullColor;\r\nin vec4 vAlphaChannel;\r\n\r\n\r\nout vec4 FragColor;\r\n\r\nuniform sampler2D myTextureSampler;\r\n\r\nvoid main(){\r\n\tvec4 texture = texture( myTextureSampler, vUV);\r\n\tvec3 texColor = vIsFullColor * (texture.rgb - vec3(1.0)); //<0,0,0> if single channel\r\n\tfloat texAlpha = dot(texture,vAlphaChannel);\r\n\r\n\tvec3 color = vColor.rgb + texColor;\r\n\tfloat alpha = vColor.a * texAlpha;\r\n\tFragColor = vec4(color, alpha);\r\n}",Dt="#version 300 es\r\nlayout (location = 0) in vec2 aPos;\r\nlayout (location = 1) in vec2 aTexCoord;\r\n\r\nout vec2 TexCoord;\r\n\r\nvoid main()\r\n{\r\n    gl_Position = vec4(aPos, 0.0, 1.0); \r\n    TexCoord = aTexCoord;\r\n}  ",Vt="#version 300 es\r\nprecision mediump float;\r\n\r\nin vec2 TexCoord;\r\n\r\nuniform sampler2D frame;  \r\n\r\nout vec4 FragColor;\r\n\r\nvec4 applyBSC(vec4 Color, float brightness, float saturation, float contrast)\r\n{\r\n\tvec3 color_B  = Color.rgb * (1.0 +Color.a * (brightness -1.0));\r\n\tvec3 intensity = vec3(dot(color_B, vec3(0.2125, 0.7154, 0.0721)));\r\n\tvec3 color_BS  = mix(intensity, color_B, 1.0 + Color.a * (saturation -1.0));\r\n\tvec3 color_BSC  = mix(vec3(0.5, 0.5, 0.5), color_BS, 1.0 + Color.a * (contrast - 1.0));\r\n\treturn vec4(color_BSC,Color.a);\r\n}\r\n\r\nvoid main()\r\n{ \r\n    vec4 color = texture(frame, TexCoord);\r\n    FragColor = applyBSC(color, 0.7, 0.9, 2.12);\r\n}",Mt=360,$t=function(t){var e=t.getContext("webgl2",{alpha:!0,premultipliedAlpha:!0});return e&&(e.clearColor(0,0,0,0),e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.clear(e.COLOR_BUFFER_BIT)),e},zt=function(t,e,r){var a=t.createShader(r);t.shaderSource(a,e),t.compileShader(a);var n=t.getShaderParameter(a,t.COMPILE_STATUS);if(!n)throw"could not compile shader:"+t.getShaderInfoLog(a);return a},Nt=function(t,e,r){var a=t.createProgram();t.attachShader(a,e),t.attachShader(a,r),t.linkProgram(a);var n=t.getProgramParameter(a,t.LINK_STATUS);if(!n)throw"program filed to link:"+t.getProgramInfoLog(a);return a},jt=function(t){for(var e=zt(t,Ft,t.VERTEX_SHADER),r=zt(t,Pt,t.FRAGMENT_SHADER),a=Nt(t,e,r),n={program:a,vao:t.createVertexArray(),attributes:{position:t.getAttribLocation(a,"position"),type:t.getAttribLocation(a,"type"),color:t.getAttribLocation(a,"color"),corner:t.getAttribLocation(a,"corner")},uniforms:{texture:t.getUniformLocation(a,"myTextureSampler")},buffers:{vertices:t.createBuffer(),colors:t.createBuffer(),types:t.createBuffer(),corners:t.createBuffer(),indices:t.createBuffer(),texture:t.createTexture()}},s=n.attributes,i=n.buffers,o=new Uint8Array(4*Mt),l=new Uint16Array(6*Mt),c=0;c<Mt;c++){var u=4*c;o.set([0,1,2,3],u),l.set([u,u+1,u+2,u+2,u+1,u+3],6*c)}return t.useProgram(a),t.bindVertexArray(n.vao),t.enableVertexAttribArray(s.position),t.enableVertexAttribArray(s.color),t.enableVertexAttribArray(s.type),t.enableVertexAttribArray(s.corner),t.bindBuffer(t.ARRAY_BUFFER,i.vertices),t.vertexAttribIPointer(s.position,2,t.BYTE,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,i.colors),t.vertexAttribPointer(s.color,4,t.UNSIGNED_BYTE,!0,0,0),t.bindBuffer(t.ARRAY_BUFFER,i.types),t.vertexAttribIPointer(s.type,1,t.UNSIGNED_SHORT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,i.corners),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.vertexAttribIPointer(s.corner,1,t.UNSIGNED_BYTE,!1,0,0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i.indices),t.bufferData(t.ELEMENT_ARRAY_BUFFER,l,t.STATIC_DRAW),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,i.texture),t.uniform1i(n.uniforms.texture,0),n},kt=function(t){var e=zt(t,Dt,t.VERTEX_SHADER),r=zt(t,Vt,t.FRAGMENT_SHADER),a=Nt(t,e,r),n={program:a,vao:t.createVertexArray(),attributes:{position:t.getAttribLocation(a,"aPos"),uv:t.getAttribLocation(a,"aTexCoord")},uniforms:{texture:t.getUniformLocation(a,"frame")},buffers:{XYUV:t.createBuffer(),texture:t.createTexture()},framebuffer:t.createFramebuffer()},s=n.attributes,i=n.buffers,o=new Int8Array([-128,127,0,0,-128,-128,0,127,127,-128,127,127,-128,127,0,0,127,-128,127,127,127,127,127,0]);return t.useProgram(a),t.bindVertexArray(n.vao),t.bindBuffer(t.ARRAY_BUFFER,i.XYUV),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.vertexAttribPointer(s.position,2,t.BYTE,!0,4,0),t.vertexAttribPointer(s.uv,2,t.BYTE,!0,4,2),t.enableVertexAttribArray(s.position),t.enableVertexAttribArray(s.uv),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,i.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1024,512,0,t.RGBA,t.UNSIGNED_BYTE,null),t.uniform1i(n.uniforms.texture,0),t.bindFramebuffer(t.FRAMEBUFFER,n.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i.texture,0),t.checkFramebufferStatus(t.FRAMEBUFFER)!=t.FRAMEBUFFER_COMPLETE&&console.log("ERROR::FRAMEBUFFER:: Framebuffer is not complete!"),n},Ht=function(){function t(e){Object(It["a"])(this,t),this.gl=null,this.shaderProgram=null,this.postProcessingProgram=null,this.init(e)}return Object(Ot["a"])(t,[{key:"init",value:function(t){var e=$t(t);this.gl=e,this.shaderProgram=jt(e),this.postProcessingProgram=kt(e),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight)}},{key:"resize",value:function(t,e){var r=this.gl;r.canvas.width===t&&r.canvas.height===e||(r.canvas.width=t,r.canvas.height=e,r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight))}},{key:"updateVertices",value:function(t){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.shaderProgram.buffers.vertices),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}},{key:"updateColors",value:function(t){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.shaderProgram.buffers.colors),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}},{key:"updateTypes",value:function(t){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.shaderProgram.buffers.types),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}},{key:"initTexture",value:function(t){var e=this.gl;e.bindTexture(e.TEXTURE_2D,this.shaderProgram.buffers.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D)}},{key:"draw",value:function(t){var e=this.gl;e.useProgram(this.shaderProgram.program),e.bindVertexArray(this.shaderProgram.vao),e.bindFramebuffer(e.FRAMEBUFFER,this.postProcessingProgram.framebuffer),e.bindTexture(e.TEXTURE_2D,this.shaderProgram.buffers.texture),e.viewport(0,0,1024,512),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.drawElements(e.TRIANGLES,6*t,e.UNSIGNED_SHORT,0),e.useProgram(this.postProcessingProgram.program),e.bindVertexArray(this.postProcessingProgram.vao),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,this.postProcessingProgram.buffers.texture),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.clear(e.COLOR_BUFFER_BIT),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.drawArrays(e.TRIANGLES,0,6)}}]),t}(),Xt=Ht,qt=r("e6ad"),Yt=r.n(qt),Gt={name:"ViewCanvas",created:function(){this.texture.src=Yt.a},mounted:function(){this.canvas=this.$el,this.renderer=new Xt(this.canvas);var t=this;this.texture.onload=function(){t.renderer.initTexture(t.texture),t.createShapeList()}},data:function(){return{canvas:null,texture:new Image,renderer:null,readyToRender:!0,vertices:new Int8Array(1800),colors:new Uint8Array(3600),types:new Uint16Array(900)}},computed:{rebuildLayers:function(){return this.$store.state.layers},updateColor:function(){return this.$store.state.requestUpdateColorLayers},updateVertices:function(){return this.$store.state.requestUpdateVertLayers},updateType:function(){return this.$store.state.requestUpdateTypeLayers}},watch:{rebuildLayers:function(t){this.readyToRender&&t&&(requestAnimationFrame(this.rebuildListandRender),this.readyToRender=!1)},updateColor:function(t){this.readyToRender&&t.length&&(requestAnimationFrame(this.updateColorandRender),this.readyToRender=!1)},updateVertices:function(t){this.readyToRender&&t.length&&(requestAnimationFrame(this.updateVerticesandRender),this.readyToRender=!1)},updateType:function(t){this.readyToRender&&t.length&&(requestAnimationFrame(this.updateTypeandRender),this.readyToRender=!1)}},methods:{rebuildListandRender:function(){for(var t=this.rebuildLayers,e=0;e<t.length;e++){var r=this.$store.state.parts[t[e]];this.vertices.set([r.lbx,r.lby,r.ltx,r.lty,r.rbx,r.rby,r.rtx,r.rty],8*e),this.colors.set([r.r,r.g,r.b,r.a,r.r,r.g,r.b,r.a,r.r,r.g,r.b,r.a,r.r,r.g,r.b,r.a],16*e),this.types.set([r.type,r.type,r.type,r.type],4*e)}this.renderer.updateTypes(this.types),this.renderer.updateColors(this.colors),this.renderer.updateVertices(this.vertices),this.render()},updateColorandRender:function(){for(var t=this.$store.state.requestUpdateColorLayers,e=0;e<t.length;e++){var r=this.$store.state.parts[t[e]];this.colors.set([r.r,r.g,r.b,r.a,r.r,r.g,r.b,r.a,r.r,r.g,r.b,r.a,r.r,r.g,r.b,r.a],16*r.index)}this.renderer.updateColors(this.colors),this.render(),this.$store.commit("clearUpdateColorRequest")},updateVerticesandRender:function(){for(var t=this.$store.state.requestUpdateVertLayers,e=0;e<t.length;e++){var r=this.$store.state.parts[t[e]];this.vertices.set([r.lbx,r.lby,r.ltx,r.lty,r.rbx,r.rby,r.rtx,r.rty],8*r.index)}this.renderer.updateVertices(this.vertices),this.render(),this.$store.commit("clearUpdateVertRequest")},updateTypeandRender:function(){for(var t=this.$store.state.requestUpdateTypeLayers,e=0;e<t.length;e++){var r=this.$store.state.parts[t[e]];this.types.set([r.type,r.type,r.type,r.type],4*r.index)}this.renderer.updateTypes(this.types),this.render(),this.$store.commit("clearUpdateTypeRequest")},render:function(){this.resize(),this.renderer.draw(this.$store.state.numberOfLayers),this.readyToRender=!0},resize:function(){var t=this.canvas,e=t.clientWidth,r=t.clientHeight;this.renderer.resize(e,r)},createShapeList:function(){var t=new Int8Array(2880),e=new Uint8Array(5760),r=new Uint16Array(1440);e.fill(255);for(var a,n,s,i,o=0,l=0,c=0;c<325;c++)r.set([c,c,c,c],4*c),a=6*l-96,n=6*l+6-96,s=6*o-48,i=6*o+6-48,t.set([a,i,a,s,n,i,n,s],8*c),l++,32===l&&(l=0,o++);o=11,l=0;for(var u=0;u<34;u++){var d=u+512;r.set([d,d,d,d],4*(u+325)),a=6*l-96,n=6*l+6-96,s=6*o-48,i=6*o+6-48,t.set([a,i,a,s,n,i,n,s],8*(u+325)),l++,32===l&&(l=0,o++)}this.renderer.updateTypes(r),this.renderer.updateColors(e),this.renderer.updateVertices(t),this.renderer.resize(1024,512),this.renderer.draw(359);var h=[],v=document.createElement("canvas");v.width=32,v.height=32;var p=v.getContext("2d");o=0,l=0;for(var f=0;f<325;f++){var m=32*l,y=32*o;p.drawImage(this.canvas,m,y,32,32,0,0,32,32);var g=f,b=v.toDataURL();h.push({type:g,url:b}),p.clearRect(0,0,32,32),l++,32===l&&(l=0,o++)}o=11,l=0;for(var x=0;x<34;x++){var _=32*l,C=32*o;p.drawImage(this.canvas,_,C,32,32,0,0,32,32);var E=x+512,w=v.toDataURL();h.push({type:E,url:w}),p.clearRect(0,0,32,32),l++,32===l&&(l=0,o++)}this.renderer.updateTypes(this.types),this.renderer.updateColors(this.colors),this.renderer.updateVertices(this.vertices),this.render(),this.$store.commit("setShapeList",{shapeList:h})}}},Wt=Gt,Zt=Object(m["a"])(Wt,Ut,Bt,!1,null,null,null),Jt=Zt.exports,Kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"-127 -127 255 255",transform:"scale(1, 1)"},on:{mousedown:t.selectLayerHit}},[r("g",{directives:[{name:"show",rawName:"v-show",value:t.layer,expression:"layer"}],on:{mousedown:t.onDragStart}},[r("polygon",{attrs:{points:[t.v.ltx,t.v.lty,t.v.rtx,t.v.rty,t.v.rbx,t.v.rby,t.v.lbx,t.v.lby].join(" "),opacity:"0",vert:"lt rt rb lb"}}),r("line",{staticClass:"line",attrs:{x1:t.v.ltx,y1:t.v.lty,x2:t.v.rtx,y2:t.v.rty,vert:"lt rt"}}),r("line",{staticClass:"line",attrs:{x1:t.v.rtx,y1:t.v.rty,x2:t.v.rbx,y2:t.v.rby,vert:"rt rb"}}),r("line",{staticClass:"line",attrs:{x1:t.v.rbx,y1:t.v.rby,x2:t.v.lbx,y2:t.v.lby,vert:"rb lb"}}),r("line",{staticClass:"line",attrs:{x1:t.v.lbx,y1:t.v.lby,x2:t.v.ltx,y2:t.v.lty,vert:"lb lt"}}),r("circle",{staticClass:"point",attrs:{cx:t.v.ltx,cy:t.v.lty,vert:"lt"}}),r("circle",{staticClass:"point",attrs:{cx:t.v.rtx,cy:t.v.rty,vert:"rt"}}),r("circle",{staticClass:"point",attrs:{cx:t.v.rbx,cy:t.v.rby,vert:"rb"}}),r("circle",{staticClass:"point",attrs:{cx:t.v.lbx,cy:t.v.lby,vert:"lb"}})])])},Qt=[],te=(r("0b21"),r("28a5"),{name:"VertexEditor",data:function(){return{editId:null,dragStartX:null,dragStartY:null,verticesBeforeDrag:null,dragVertex:null,scale:.25,updateReady:!0}},computed:{layerId:function(){var t=this.$store.state.selected;return 1!==t.length||t[0].children?null:t[0]},layer:function(){return this.$store.state.parts[this.layerId]},v:function(){return this.layer||{}},layers:function(){return this.$store.state.layers}},methods:{onDragStart:function(t){var e=t.srcElement.getAttribute("vert");if(e){this.editId=this.layerId,this.dragVertex=e.split(" "),this.dragStartX=t.x,this.dragStartY=t.y;var r=this.layer,a=r.lbx,n=r.lby,s=r.ltx,i=r.lty,o=r.rbx,l=r.rby,c=r.rtx,u=r.rty;this.verticesBeforeDrag={lbx:a,lby:n,ltx:s,lty:i,rbx:o,rby:l,rtx:c,rty:u},document.addEventListener("mousemove",this.onDragging,!1),document.addEventListener("mouseup",this.onDragEnd,!1)}},onDragging:function(t){var e=this;this.updateReady&&(requestAnimationFrame(function(){for(var r=(t.x-e.dragStartX)*e.scale,a=(t.y-e.dragStartY)*e.scale,n={},s=0;s<e.dragVertex.length;s++){var i=e.dragVertex[s];n[i+"x"]=e.verticesBeforeDrag[i+"x"]+r,n[i+"y"]=e.verticesBeforeDrag[i+"y"]+a}e.$store.commit("editLayerVertices",{id:e.editId,vertices:n}),e.updateReady=!0}),this.updateReady=!1)},onDragEnd:function(){document.removeEventListener("mousemove",this.onDragging,!1),document.removeEventListener("mouseup",this.onDragEnd,!1)},selectLayerHit:function(t){if(this.layers)for(var e=this.$el.getBoundingClientRect(),r=.25*(t.pageX-e.left-512),a=.25*(t.pageY-e.top-512),n=0;n<this.layers.length;n++){var s=this.layers[n],i=this.$store.state.parts[s];if(ee(r,a,i.lbx,i.lby,i.ltx,i.lty,i.rbx,i.rby)||ee(r,a,i.rbx,i.rby,i.ltx,i.lty,i.rtx,i.rty))return void this.$store.commit("select",s)}}}}),ee=function(t,e,r,a,n,s,i,o){var l=.5*(-s*i+a*(-n+i)+r*(s-o)+n*o),c=Math.sign(l),u=(a*i-r*o+(o-a)*t+(r-i)*e)*c,d=(r*s-a*n+(a-s)*t+(n-r)*e)*c;return u>0&&d>0&&u+d<2*l*c},re=te,ae=(r("2da2"),Object(m["a"])(re,Kt,Qt,!1,null,null,null)),ne=ae.exports,se={name:"ViewerEditor",mounted:function(){this.center()},components:{ViewCanvas:Jt,VertexEditor:ne},methods:{center:function(){var t=this.$el,e=document.getElementById("viewer-content"),r=e.clientWidth-t.clientWidth,a=e.clientHeight-t.clientHeight;t.scroll(r/2,a/2)}}},ie=se,oe=(r("8967"),Object(m["a"])(ie,St,Lt,!1,null,null,null)),le=oe.exports,ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cs_editor"},[r("ColorEditor",{staticClass:"color_editor"}),r("ShapeEditor",{staticClass:"shape_editor"})],1)},ue=[],de=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"color_editor"},[r("color-picker",{attrs:{value:t.colorCode,disabled:!t.layer,width:200,height:200},on:{"color-change":t.updateColor}}),r("div",{attrs:{id:"alpha-editor"}},[r("svg",{attrs:{id:"alpha-bg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewbox:"0 0 192 24"}},[r("rect",{attrs:{fill:"white",x:"0",y:"0",width:"100%",height:"24"}}),r("pattern",{attrs:{id:"pattern",x:"0",y:"0",width:"12",height:"12",patternUnits:"userSpaceOnUse"}},[r("rect",{attrs:{fill:"gray",x:"0",width:"6",height:"6",y:"0"}}),r("rect",{attrs:{fill:"gray",x:"6",width:"6",height:"6",y:"6"}})]),r("g",[r("rect",{attrs:{fill:"url(#pattern)",y:"0",x:"0",width:"192",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.125",y:"0",x:"0",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.25",y:"0",x:"24",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.375",y:"0",x:"48",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.5",y:"0",x:"72",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.625",y:"0",x:"96",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.75",y:"0",x:"120",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"0.875",y:"0",x:"144",width:"24",height:"24"}}),r("rect",{attrs:{fill:t.colorCode,opacity:"1",y:"0",x:"168",width:"24",height:"24"}})])]),r("input",{attrs:{type:"range",min:"1",max:"8",id:"alpha-slider"},domProps:{value:t.alpha},on:{input:t.updateAlpha}})])],1)},he=[],ve=(r("6b54"),r("1e8a")),pe={name:"ColorEditor",components:{ColorPicker:ve["a"]},data:function(){return{}},computed:{id:function(){var t=this.$store.state.selected;return 1!==t.length||t[0].children?null:t[0]},layer:function(){return this.$store.state.parts[this.id]},colorCode:function(){var t=this.layer;if(!t)return"#ffffff";var e=t.r.toString(16),r=t.g.toString(16),a=t.b.toString(16);return"#"+e+r+a},alpha:function(){var t=this.layer;return t?(this.layer.a+1)/32:8}},methods:{updateColor:function(t){if(this.layer){var e=parseInt(t.substr(1,2),16),r=parseInt(t.substr(3,2),16),a=parseInt(t.substr(5,2),16),n=this.layer.a;this.$store.commit("editLayerColor",{id:this.id,color:{r:e,g:r,b:a,a:n}})}},updateAlpha:function(t){if(this.layer){var e=this.layer.r,r=this.layer.g,a=this.layer.b,n=32*+t.srcElement.value-1;this.$store.commit("editLayerColor",{id:this.id,color:{r:e,g:r,b:a,a:n}})}}}},fe=pe,me=(r("565b"),Object(m["a"])(fe,de,he,!1,null,"7aa08635",null)),ye=me.exports,ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"shape_editor"},t._l(t.shapeList,function(e){return r("div",{key:e.type,ref:"shapes",refInFor:!0,staticClass:"shape_thumb",class:{active:e.type===t.layerShape},on:{click:function(r){return t.updateShape(e.type)}}},[r("img",{staticClass:"shape_image",attrs:{src:e.url}})])}),0)},be=[],xe={name:"ShapeEditor",computed:{shapeList:function(){return this.$store.state.shapeList},LayerId:function(){var t=this.$store.state.selected;return 1!==t.length||t[0].children?null:t[0]},layer:function(){return this.$store.state.parts[this.LayerId]},layerShape:function(){return this.layer?this.layer.type:null}},watch:{layerShape:function(t){null!=t&&(t<512?this.$refs.shapes[t].scrollIntoView():this.$refs.shapes[t-512+325].scrollIntoView())}},methods:{updateShape:function(t){this.layer&&this.$store.commit("editLayerType",{id:this.LayerId,type:t})}}},_e=xe,Ce=(r("beb3"),r("0e7a"),Object(m["a"])(_e,ge,be,!1,null,"5d35e187",null)),Ee=Ce.exports,we={name:"ColorShapeEditor",components:{ColorEditor:ye,ShapeEditor:Ee}},Re=we,Te=(r("1a26"),Object(m["a"])(Re,ce,ue,!1,null,null,null)),Ae=Te.exports,Se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"footer"},[t._v("\n    Welcome to Symbol Art Maker. The project is under construction. Many features are not implemented.\n")])},Le=[],Ue={name:"FooterBar"},Be=Ue,Ie=(r("ad39"),Object(m["a"])(Be,Se,Le,!1,null,null,null)),Oe=Ie.exports,Fe={name:"app",components:{HeaderBar:Z,ToolBar:ft,PartsList:At,ViewerEditor:le,ColorShapeEditor:Ae,FooterBar:Oe}},Pe=Fe,De=(r("034f"),r("f103"),Object(m["a"])(Pe,n,s,!1,null,"52d10759",null)),Ve=De.exports,Me=r("cebc"),$e=r("2f62"),ze=r("2ef0");a["a"].use($e["a"]);var Ne=function(){var t=0;return function(){return t++}}(),je=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed layer",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:255,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-16,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-16,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-16,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:16,h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:-16,v=arguments.length>13&&void 0!==arguments[13]?arguments[13]:16,p=arguments.length>14&&void 0!==arguments[14]?arguments[14]:16;return{visibility:Boolean(e),type:Number(r),r:Number(a),g:Number(n),b:Number(s),a:Number(i),ltx:Number(o),lty:Number(l),lbx:Number(c),lby:Number(u),rtx:Number(d),rty:Number(h),rbx:Number(v),rby:Number(p),name:String(t),selected:!1,index:null}},ke=function t(e,r,a){for(var n=0;n<r.length;n++){var s=r[n];s.children?e=t(s.children,a):(a(s.id,e),e++)}return e},He=function(t){var e=[];e.length=t.numberOfLayers;var r=function(r,a){e[a]=r,t.parts[r].index=a};return ke(0,t.treeData,r),e},Xe={parts:{},treeData:[],selected:[],layers:null,requestUpdateColorLayers:[],requestUpdateVertLayers:[],requestUpdateTypeLayers:[],numberOfLayers:0,shapeList:null,undoStack:[],redoStack:[]},qe={loadSymbolArt:function(t,e){for(var r={},a=[],n=e.layer.length-1;n>=0;n--){var s=e.layer[n]._attributes,i=parseInt(s.color.substr(1,2),16),o=parseInt(s.color.substr(3,2),16),l=parseInt(s.color.substr(5,2),16),c=Math.floor(255*s.alpha),u=Ze(s.type);s=Object(Me["a"])({},s,{r:i,g:o,b:l,a:c,type:u}),s=je(s.name,s.visibility,u,i,o,l,c,s.ltx,s.lty,s.lbx,s.lby,s.rtx,s.rty,s.rbx,s.rby);var d=Ne();r[d]=s,a.push({id:d})}t.numberOfLayers=e.layer.length,t.parts=r,t.treeData=a,t.layers=He(t),t.selected=[]},addLayer:function(t){var e=Ne(),r=je("Layer "+e);a["a"].set(t.parts,e,r),t.treeData.splice(0,0,{id:e}),t.numberOfLayers++,t.layers=He(t)},deleteLayer:function(t,e){var r=t.parts[e].index;t.treeData.splice(r,1),t.numberOfLayers--,t.layers=He(t),a["a"].delete(t.parts,e),t.selected=Object(ze["without"])(t.selected,e)},select:function(t,e){for(var r=0;r<t.selected.length;r++)t.parts[t.selected[r]].selected=!1;t.selected=[e],t.parts[e].selected=!0},editLayerType:function(t,e){var r=e.id,a=e.type,n=t.parts[r];n.type=a,t.requestUpdateTypeLayers=Object(ze["union"])(t.requestUpdateTypeLayers,[r])},editLayerColor:function(t,e){var r=e.id,a=e.color,n=t.parts[r];Object.assign(n,a),t.requestUpdateColorLayers=Object(ze["union"])(t.requestUpdateColorLayers,[r])},editLayerVertices:function(t,e){var r=e.id,a=e.vertices,n=t.parts[r];Object.assign(n,a),t.requestUpdateVertLayers=Object(ze["union"])(t.requestUpdateVertLayers,[r])},clearUpdateColorRequest:function(t){t.requestUpdateColorLayers=[]},clearUpdateVertRequest:function(t){t.requestUpdateVertLayers=[]},clearUpdateTypeRequest:function(t){t.requestUpdateTypeLayers=[]},setShapeList:function(t,e){var r=e.shapeList;t.shapeList=r}},Ye={},Ge={},We=new $e["a"].Store({state:Xe,getters:Ye,mutations:qe,actions:Ge}),Ze=function(t){return t=+t+1,241<=t&&t<=292?t-241:321<=t&&t<=359?t-321+52:401<=t&&t<=439?t-401+91:481<=t&&t<=517?t-481+130:561<=t&&t<=581?t-561+167:641<=t&&t<=697?t-641+188:1<=t&&t<=80?t-1+245:721<=t&&t<=754?t-721+512:0};a["a"].config.productionTip=!1,new a["a"]({store:We,render:function(t){return t(Ve)}}).$mount("#app")},"58d2":function(t,e,r){},"64a9":function(t,e,r){},6569:function(t,e,r){"use strict";var a=r("5076"),n=r.n(a);n.a},"6e61":function(t,e,r){},"7ae8":function(t,e,r){},8967:function(t,e,r){"use strict";var a=r("489f"),n=r.n(a);n.a},"8bdb":function(t,e,r){"use strict";var a=r("42d7"),n=r.n(a);n.a},"8ecb":function(t,e,r){"use strict";var a=r("e0ba"),n=r.n(a);n.a},"93c1":function(t,e,r){},"99d2":function(t,e,r){},"9c1f":function(t,e,r){},a2ff:function(t,e,r){},ad39:function(t,e,r){"use strict";var a=r("488b"),n=r.n(a);n.a},beb3:function(t,e,r){"use strict";var a=r("ea95"),n=r.n(a);n.a},c456:function(t,e,r){"use strict";var a=r("e4ec"),n=r.n(a);n.a},c635:function(t,e,r){},d16b:function(t,e,r){"use strict";var a=r("6e61"),n=r.n(a);n.a},d5ad:function(t,e,r){},e0ba:function(t,e,r){},e24f:function(t,e,r){"use strict";var a=r("c635"),n=r.n(a);n.a},e4ec:function(t,e,r){},e6ad:function(t,e,r){t.exports=r.p+"img/symbols.0f47c2ab.png"},ea39:function(t,e,r){"use strict";var a=r("3f0b"),n=r.n(a);n.a},ea95:function(t,e,r){},f103:function(t,e,r){"use strict";var a=r("58d2"),n=r.n(a);n.a}});
//# sourceMappingURL=app.587e4574.js.map